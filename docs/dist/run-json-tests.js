"use strict";(()=>{var ri=Object.create;var Ut=Object.defineProperty;var ni=Object.getOwnPropertyDescriptor;var oi=Object.getOwnPropertyNames;var ii=Object.getPrototypeOf,si=Object.prototype.hasOwnProperty;var Be=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports),ai=(t,e)=>{for(var r in e)Ut(t,r,{get:e[r],enumerable:!0})},ui=(t,e,r,n)=>{if(e&&typeof e=="object"||typeof e=="function")for(let o of oi(e))!si.call(t,o)&&o!==r&&Ut(t,o,{get:()=>e[o],enumerable:!(n=ni(e,o))||n.enumerable});return t};var Vt=(t,e,r)=>(r=t!=null?ri(ii(t)):{},ui(e||!t||!t.__esModule?Ut(r,"default",{value:t,enumerable:!0}):r,t));var en=Be(ve=>{"use strict";Object.defineProperty(ve,"__esModule",{value:!0});ve.StyledElement=ve.CustomElement=void 0;var rt=class extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.connected=!1}connectedCallback(){this.connected||(this.connect(),this.connected=!0)}};ve.CustomElement=rt;var Dt=class extends rt{constructor(e){super();let r=document.createElement("link");r.setAttribute("rel","stylesheet");let n=document.currentScript.src,o=n.substring(0,n.lastIndexOf("/"));r.setAttribute("href",`${o}/${e}.css`),this.root.appendChild(r),this.body=document.createElement("div"),this.root.appendChild(this.body)}};ve.StyledElement=Dt});var rn=Be(nt=>{"use strict";Object.defineProperty(nt,"__esModule",{value:!0});nt.createReporter=void 0;function tn(t){return{name:t,passes:0,fails:0,duration:0,tests:[],assertions:[]}}function ci(t,e){let r=tn(t),n=[r];return async o=>{for await(let i of o)switch(i.type){case"TEST_START":let s=tn(i.data.description);n[n.length-1].tests.push(s),n.push(s);break;case"TEST_END":let a=i.data,u=n.pop();u.pass=a.pass,u.passes=a.successCount,u.fails=a.failureCount,u.error=a.error,u.duration=a.executionTime,e(r);break;case"ASSERTION":let c=i.data;n[n.length-1].assertions.push({name:c.description,pass:c.pass});break;case"BAIL_OUT":n[n.length-1].error=i.data,e(r);break}}}nt.createReporter=ci});var Nn=Be(y=>{"use strict";Object.defineProperty(y,"__esModule",{value:!0});var fi=(t,e)=>({type:"TEST_START",data:t,offset:e}),pi=(t,e)=>({type:"ASSERTION",data:t,offset:e}),li=(t,e)=>({type:"TEST_END",data:t,offset:e}),mi=(t,e)=>({type:"BAIL_OUT",data:t,offset:e}),hi=t=>e=>Object.defineProperties(e,{skipCount:{get(){return t.skipCount}},failureCount:{get(){return t.failureCount}},successCount:{get(){return t.successCount}},count:{get(){return t.count}}}),di=()=>{let t=0,e=0,r=0;return Object.defineProperties({update(n){let{pass:o,skip:i}=n;i?r++:bi(n)?o?t++:e++:(r+=n.skipCount,t+=n.successCount,e+=n.failureCount)}},{successCount:{get(){return t}},failureCount:{get(){return e}},skipCount:{get(){return r}},count:{get(){return r+t+e}}})},an=Object.freeze({offset:0,skip:!1,runOnly:!1}),un=()=>{},cn={[Symbol.asyncIterator]:async function*(){await this.routine;for(let t of this.assertions){if(t[Symbol.asyncIterator]&&(yield fi({description:t.description},this.offset),yield*t,t.error!==null)){this.error=t.error,this.pass=!1;return}yield pi(t,this.offset),this.pass=this.pass&&t.pass,this.counter.update(t)}return this.error!==null?yield mi(this.error,this.offset):yield li(this,this.offset)}},fn=(t=cn)=>(e,r,n)=>{let o=di(),i=hi(o),s=!0;return i(Object.create(t,{routine:{value:r},assertions:{value:e},offset:{value:n},counter:{value:o},length:{get(){return e.length}},pass:{enumerable:!0,get(){return s},set(a){s=a}}}))},xi=fn(),gi=(t,e,{offset:r=0,skip:n=!1,runOnly:o=!1}=an)=>{let i=0,s=null,a=!1,u=[],c=S=>{if(a)throw new Error(`test "${t}" 
tried to collect an assertion after it has run to its completion. 
You might have forgotten to wait for an asynchronous task to complete
------
${e.toString()}
`);u.push(S)},l=n===!0?un:function(){return e(ln(c,r,o))},g=async function(){try{let S=Date.now(),j=await l();return i=Date.now()-S,j}catch(S){s=S}finally{a=!0}}();return Object.defineProperties(xi(u,g,r),{error:{get(){return s},set(S){s=S}},executionTime:{enumerable:!0,get(){return i}},skip:{value:n},description:{enumerable:!0,value:t}})},nn=function t(e,r){if(e===r)return!0;if(e&&r&&typeof e=="object"&&typeof r=="object"){if(e.constructor!==r.constructor)return!1;var n,o,i;if(Array.isArray(e)){if(n=e.length,n!=r.length)return!1;for(o=n;o--!==0;)if(!t(e[o],r[o]))return!1;return!0}if(e.constructor===RegExp)return e.source===r.source&&e.flags===r.flags;if(e.valueOf!==Object.prototype.valueOf)return e.valueOf()===r.valueOf();if(e.toString!==Object.prototype.toString)return e.toString()===r.toString();if(i=Object.keys(e),n=i.length,n!==Object.keys(r).length)return!1;for(o=n;o--!==0;)if(!Object.prototype.hasOwnProperty.call(r,i[o]))return!1;for(o=n;o--!==0;){var s=i[o];if(!t(e[s],r[s]))return!1}return!0}return e!==e&&r!==r},bi=t=>"operator"in t,pn=/zora_spec_fn/,yi=/zora\/dist\/bundle/,wi=t=>t&&!yi.test(t)&&!t.startsWith("Error")||pn.test(t),Si=()=>{let e=(new Error().stack||"").split(`
`).map(o=>o.trim()).filter(wi),r=e.findIndex(o=>pn.test(o));return(r>=1?e[r-1]:e[0]||"N/A").replace(/^at|^@/,"")},Z=t=>function(...e){return this.collect(t(...e))},J=t=>function(...e){return this[t](...e)},Ti=t=>Object.fromEntries([...Object.keys(qt),"collect"].map(e=>[e,(...r)=>t[e](...r)])),qt={equal:Z((t,e,r="should be equivalent")=>({pass:nn(t,e),actual:t,expected:e,description:r,operator:"equal"})),equals:J("equal"),eq:J("equal"),deepEqual:J("equal"),same:J("equal"),notEqual:Z((t,e,r="should not be equivalent")=>({pass:!nn(t,e),actual:t,expected:e,description:r,operator:"notEqual"})),notEquals:J("notEqual"),notEq:J("notEqual"),notDeepEqual:J("notEqual"),is:Z((t,e,r="should be the same")=>({pass:Object.is(t,e),actual:t,expected:e,description:r,operator:"is"})),isNot:Z((t,e,r="should not be the same")=>({pass:!Object.is(t,e),actual:t,expected:e,description:r,operator:"isNot"})),notSame:J("isNot"),ok:Z((t,e="should be truthy")=>({pass:!!t,actual:t,expected:"truthy value",description:e,operator:"ok"})),truthy:J("ok"),notOk:Z((t,e="should be falsy")=>({pass:!t,actual:t,expected:"falsy value",description:e,operator:"notOk"})),falsy:J("notOk"),fail:Z((t="fail called")=>({pass:!1,actual:"fail called",expected:"fail not called",description:t,operator:"fail"})),throws:Z((t,e,r)=>{let n,o,i;typeof e=="string"&&([e,r]=[r,e]);try{t()}catch(s){n={error:s}}return o=n!==void 0,i=n&&n.error,e instanceof RegExp?(o=e.test(i)||e.test(i&&i.message),i=i&&i.message||i,e=String(e)):typeof e=="function"&&n&&(o=i instanceof e,i=i.constructor),{pass:o,actual:i,expected:e,description:r||"should throw",operator:"throws"}}),doesNotThrow:Z((t,e,r)=>{let n;typeof e=="string"&&([e,r]=[r,e]);try{t()}catch(o){n={error:o}}return{pass:n===void 0,expected:"no thrown error",actual:n&&n.error,operator:"doesNotThrow",description:r||"should not throw"}})},ln=(t,e,r=!1)=>{let n=s=>(s.pass||(s.at=Si()),t(s),s),o=(s,a,u)=>{let c=Object.assign({},an,u,{offset:e+1,runOnly:r}),l=gi(s,a,c);return t(l),l.routine},i=(s,a,u)=>o(s,a,Object.assign({},u,{skip:!0}));return{...Ti(Object.create(qt,{collect:{value:n}})),test(s,a,u={}){return r?i(s,a,u):o(s,a,u)},skip(s,a=un,u={}){return i(s,a,u)},only(s,a,u={}){return o(s,r===!1?l=>{throw new Error('Can not use "only" method when not in run only mode')}:a,u)}}},ki=t=>async function*(e){for await(let r of e)yield t(r)},Ii=ki(t=>(t.offset=0,t)),mn=t=>"operator"in t,Ni=(t,e)=>typeof e=="symbol"?e.toString():e,vi=({pass:t,description:e,...r})=>r,hn={print(t,e=0){this.log(t.padStart(t.length+e*4))},printYAML(t,e=0){let r=e+.5;this.print("---",r);for(let[n,o]of Object.entries(t))this.print(`${n}: ${JSON.stringify(o,Ni)}`,r+.5);this.print("...",r)},printComment(t,e=0){this.print(`# ${t}`,e)},printBailOut(t){this.print("Bail out! Unhandled error.")},printTestStart(t){let{data:{description:e},offset:r}=t;this.printComment(e,r)},printTestEnd(t){},printAssertion(t){let{data:e,offset:r}=t,{pass:n,description:o}=e,i=n===!0?"ok":"not ok";if(mn(e)){let s=this.nextId();this.print(`${i} ${s} - ${o}`,r),n===!1&&this.printYAML(vi(e),r)}else if(e.skip){let s=this.nextId();this.print(`${n?"ok":"not ok"} ${s} - ${o} # SKIP`,r)}},printSummary(t){this.print("",0),this.printComment(t.data.pass?"ok":"not ok",0),this.printComment(`success: ${t.data.successCount}`,0),this.printComment(`skipped: ${t.data.skipCount}`,0),this.printComment(`failure: ${t.data.failureCount}`,0)},async report(t){let e=Ii(t),r=null;this.print("TAP version 13");for await(let n of e)switch(r=n,n.type){case"TEST_START":this.printTestStart(n);break;case"ASSERTION":this.printAssertion(n);break;case"BAIL_OUT":throw this.printBailOut(n),n.data}this.print(`1..${r.data.count}`,0),this.printSummary(r)}},Ai=t=>{let e=0;return Object.create(hn,{nextId:{enumerable:!0,value:()=>++e},log:{value:t}})},Ci=({expected:t,pass:e,description:r,actual:n,operator:o,at:i="N/A",...s})=>({wanted:t,found:n,at:i,operator:o,...s}),on=function*(){let t=0;for(;;)yield++t},Ei=()=>{let t=[on()];return{[Symbol.iterator](){return this},next(){return t[0].next()},fork(){t.unshift(on())},merge(){t.shift()}}},Pi=Object.assign({},hn,{printTestStart(t){let{data:{description:e},offset:r}=t;this.printComment(`Subtest: ${e}`,r)},printAssertion(t){let{data:e,offset:r}=t,{pass:n,description:o}=e,i=n===!0?"ok":"not ok",s=this.nextId();if(mn(e))this.print(`${i} ${s} - ${o}`,r),n===!1&&this.printYAML(Ci(e),r);else{let a=e.skip===!0?"SKIP":`${e.executionTime}ms`;this.print(`${n?"ok":"not ok"} ${s} - ${o} # ${a}`,t.offset)}},printTestEnd(t){let e=t.data.length,{offset:r}=t;this.print(`1..${e}`,r)}}),Oi=t=>{let e=Ei();return Object.create(Pi,{nextId:{enumerable:!0,value:()=>e.next().value},report:{enumerable:!0,value:async function(r){this.print("TAP version 13");let n=null;for await(let o of r)switch(n=o,o.type){case"TEST_START":e.fork(),this.printTestStart(o);break;case"ASSERTION":this.printAssertion(o);break;case"TEST_END":e.merge(),this.printTestEnd(o);break;case"BAIL_OUT":throw this.printBailOut(o),o.data}this.printSummary(n)}},log:{value:t}})},dn=t=>(e=console)=>{let r=e.log.bind(e);return async n=>t(r).report(n)},Fi=dn(Ai),Mi=dn(Oi),Wt=Mi(),_t=Fi(),xn=({runOnly:t=!1,indent:e=!1}={runOnly:!1,indent:!1})=>{let r=[],i=ln(u=>r.push(u),0,t),s=null,a=fn(Object.assign(i,cn,{report:async function(u){return(u||(e?Wt:_t))(this)}}));return Object.defineProperties(a(r,Promise.resolve(),0),{error:{get(){return s},set(u){s=u}}})},gn=t=>typeof process<"u"?process.env[t]==="true":typeof Deno<"u"?Deno.env.get(t)==="true":typeof window<"u"?!!window[t]:!1,T=xn({runOnly:gn("RUN_ONLY")}),bn=!0,yn=gn("INDENT"),zt=T.test.bind(T);zt.indent=()=>{console.warn('indent function is deprecated, use "INDENT" configuration flag instead'),yn=!0};var ji=zt,wn=T.skip.bind(T),Li=T.only.bind(T);zt.skip=wn;var ot=T.equal.bind(T),$i=ot,Bi=ot,Ri=ot,it=T.notEqual.bind(T),Ui=it,Vi=it,Di=it,Sn=T.is.bind(T),qi=Sn,Tn=T.isNot.bind(T),Wi=Tn,kn=T.ok.bind(T),_i=kn,In=T.notOk.bind(T),zi=In,Hi=T.fail.bind(T),Ji=T.throws.bind(T),Gi=T.doesNotThrow.bind(T),Ki=(t={})=>(bn=!1,xn(t)),sn=()=>{bn&&T.report(yn?Wt:_t)};typeof window>"u"?setTimeout(sn,0):window.addEventListener("load",sn);y.AssertPrototype=qt;y.createHarness=Ki;y.deepEqual=Ri;y.doesNotThrow=Gi;y.eq=Bi;y.equal=ot;y.equals=$i;y.fail=Hi;y.falsy=zi;y.is=Sn;y.isNot=Tn;y.mochaTapLike=Wt;y.notDeepEqual=Di;y.notEq=Vi;y.notEqual=it;y.notEquals=Ui;y.notOk=In;y.notSame=Wi;y.ok=kn;y.only=Li;y.same=qi;y.skip=wn;y.tapeTapLike=_t;y.test=ji;y.throws=Ji;y.truthy=_i});var Ht=Be(Ce=>{"use strict";Object.defineProperty(Ce,"__esModule",{value:!0});Ce.test=Ce.getHarness=void 0;var vn=Nn(),Ae=vn.createHarness();typeof window>"u"&&setTimeout(Xi,0);function Yi(){return Ae}Ce.getHarness=Yi;async function Xi(){try{await Ae.report(vn.mochaTapLike)}catch(t){Ae.pass=!1,t instanceof Error&&(console.error(t.name+" exception thrown: "+t.message),console.error(t.stack))}Ae.pass?console.log("Tests PASSED"):console.log("Tests FAILED"),process.exit(Ae.pass?0:1)}function Zi(t,e,r){return Ae.test(t,e,r)}Ce.test=Zi});var An=Be(at=>{"use strict";Object.defineProperty(at,"__esModule",{value:!0});at.TestRunner=void 0;var Qi=rn(),es=Ht(),st=class extends HTMLElement{constructor(){super(),this.styles=`
        .test-runner {
            font-family: var(--sans-font);
            font-size: 1rem;
            color: black;
        }    
        .test-visualizer {
            overflow: auto;
            max-height: 100vh;
        }
        .test-runner .summary {
            font-weight: bolder;
        }
        .test-runner .summary .count {
            margin-left: 1rem;
        }
        .test-runner pre {
            background-color: #fff0f0;
        }
        summary {
            cursor: pointer;
        }`;let e=this.attachShadow({mode:"open"}),r=new CSSStyleSheet;r.replaceSync(this.styles),e.adoptedStyleSheets=[r],this.body=this.elem("div","test-runner"),e.appendChild(this.body),this.connected=!1}connectedCallback(){if(this.connected)return;this.connected=!0;let e=this.getAttribute("name");this.runTests(e)}runTests(e){es.getHarness().report(Qi.createReporter(e,r=>{for(;this.body.firstChild;)this.body.firstChild.remove();this.body.appendChild(this.testStatus(r))}))}elem(e,r,n){let o=document.createElement(e);return r&&o.classList.add(r),n&&(o.innerText=n),o}statusIcon(e){return e.pass?"\u2705":"\u274C"}testStyle(e){return e.pass?"#f8fff8":"#fff8f8"}testStatus(e){let r=this.elem("div","test-visualizer");r.style.backgroundColor=this.testStyle(e);let n=this.elem("div","summary",`${this.statusIcon(e)} ${e.name}`);return n.appendChild(this.elem("span","count",`Pass: ${e.passes}`)),n.appendChild(this.elem("span","count",`Fail: ${e.fails}`)),r.appendChild(n),r.appendChild(this.testList(e.tests)),r}testList(e){let r=this.elem("ol","test-list");for(let n=0;n<e.length;n++)r.appendChild(this.test(e[n]));return r}assertion(e){return this.elem("li",void 0,`${this.statusIcon(e)} ${e.name}`)}assertions(e){let r=this.elem("details");r.appendChild(this.elem("summary",void 0,`${e.length} assertions`));let n=this.elem("ol");for(let o=0;o<e.length;o++)n.appendChild(this.assertion(e[o]));return r.appendChild(n),r}test(e){if(e.error)return this.bailedOutTest(e);let r=this.elem("li",void 0,`${this.statusIcon(e)} ${e.name} in ${e.duration}ms`);return e.assertions&&r.appendChild(this.assertions(e.assertions)),e.tests&&r.appendChild(this.testList(e.tests)),r}bailedOutTest(e){let r=this.elem("li");return r.innerHTML=`${this.statusIcon(e)} ${e.name} threw <b>${e.error.name}</b> exception:
            <br/><b>${e.error.message}</b>
            <pre>${e.error.stack}</pre>`,r}};at.TestRunner=st;customElements.define("test-runner",st)});var ei=Vt(en()),TS=Vt(An());var ut=class{constructor(e){this._target=null;e&&(this._target=e)}get target(){if(this._target)return this._target;throw ReferenceError("Target not set.")}set target(e){this._target=e}};var fe=class extends Error{constructor(r,n,o,i=[]){super(`${r} error at position ${n+1}.
	Found: "${o}"
	Expected: ${i.map(s=>`"${s}"`).join(", ")}`);this.source=r;this.position=n;this.found=o;this.expected=i}};function En(t,e){e.expected.length>0&&(t.expected=t.expected.concat(e.expected))}function Pn(t){return t.expected.map(e=>`"${e}"`).join(", ")}function xe(t,e){return{kind:"ok",position:t,result:e}}function ct(t,e,r=[]){return{kind:"fail",position:t,found:e,expected:r}}function On(t){let e={};for(let r=0;r<t.length;r++){let[n,o]=t[r];e[n]=o}return e}function Re(t){return t.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t")}var Ue=class{constructor(e,r){this.token=e;this.text=r}toString(){return this.text?Re(this.text):this.token}},ft=class{constructor(...e){this.matchers=e.map(r=>({regex:new RegExp(r[0],"yu"),token:r[1]}))}matchToken(e,r){for(let n=0;n<this.matchers.length;n++){let o=this.matchers[n];o.regex.lastIndex=r;let i=o.regex.exec(e);if(i!=null)return new Ue(o.token,i[0])}return null}},Jt=class{constructor(e,r,n){this.input=e,this.lexer=r,this.tokens=new Array(e.length),this.position=-1,this.eof=n,this.current=this.eof}next(){let e=this.position;if(e+=this.tokens[e]?this.tokens[e].text.length:1,e>=this.input.length)return this.eof;this.position=e;let r=this.tokens[e]||this.lexer.matchToken(this.input,e);if(!r)throw new fe("Lexer",e,this.input.substr(e,10)+"...",["<valid token>"]);return this.tokens[e]=r,this.current=r,r}};function Mn(t,e,r){return new Jt(t,e,r)}var O=class t{constructor(e){this.parse=e}bind(e){return new t(r=>{let n=r.position,o=this.parse(r);if(o.kind=="ok"){let i=e(o.result).parse(r);return i.kind=="fail"&&n!==r.position&&(r.position=n),i}return o})}seq(e){return this.bind(r=>e)}map(e){return this.bind(r=>E(e(r)))}or(e){return new t(r=>{let n=r.position,o=this.parse(r);if(o.kind=="ok"||o.position>n)return o;let i=e.parse(r);return i.kind=="ok"||En(i,o),i})}optional(e){return this.or(E(e))}optionalRef(){return this.or(E(null))}where(e){return this.bind(r=>e(r)?E(r):pt(`${r}`,"predicate"))}zeroOrMore(){return new t(e=>{let r=[];for(;;){let n=e.position,o=this.parse(e);if(o.kind=="fail")return o.position>n?o:xe(o.position,r);r.push(o.result)}})}oneOrMore(){return new t(e=>{let r=this.parse(e);if(r.kind=="fail")return r;let n=[r.result];for(;;){let o=e.position;if(r=this.parse(e),r.kind=="fail")return r.position>o?r:xe(r.position,n);n.push(r.result)}})}occurrences(e,r){return this.zeroOrMore().bind(n=>{let o=n.length;return o>=e&&o<=r?E(n):pt(`${o} occurrences`,`${e}-${r} occurrences`)})}and(){return new t(e=>{let r=e.position,n=this.parse(e);return e.position=r,n})}not(){return new t(e=>{let r=e.position,n=this.parse(e);if(e.position=r,n.kind=="ok"){let o=`${n.result}`;return ct(n.position,o,["not "+o])}return xe(n.position,void 0)})}backtrack(){return new t(e=>{let r=e.position,n=this.parse(e);return n.kind=="fail"&&n.position>r&&(n.position=r),n})}expect(e){if(!B.errorMessages)return this;let r=new t(n=>{let o=this.parse(n);return o.kind=="fail"&&o.expected.push(e),o});return B.debugging?r.trace(e):r}trace(e){return B.debugging?new t(r=>{B.write(`${e} called with input '${r.current}'.`),B.indent();let n=this.parse(r);return B.rulesEvaluated++,B.unindent(),B.write((n.kind=="ok"?`${e} SUCCEEDED with value '${Re(`${n.result}`)}'`:`${e} FAILED with value '${Re(`${n.found}`)}'. Expected values: ${Pn(n)}`)+` at position ${n.position}`),n}):this}},B={debugging:!1,rulesEvaluated:0,errorMessages:!0,indentation:0,indent(){this.indentation++},unindent(){this.indentation--},write(t){let e="  ".repeat(this.indentation);console.log(e+t)}};function ns(t,e){B.rulesEvaluated=0;let r=t.parse(e);return B.debugging&&console.info("Number of rules evaluated: "+B.rulesEvaluated),r}function jn(t,e){var r=ns(t,e);if(r.kind=="fail")throw new fe("Parsing",r.position,r.found,r.expected);return r.result}function E(t){return new O(e=>xe(e.position,t))}function pt(t,...e){return new O(r=>ct(r.position,t,e))}function os(t){return new O(e=>{let r=e.position,n=e.next();return t(n)?xe(e.position,n):(e.position=r,ct(e.position,`${n}`))})}function is(){return new O(t=>{let e=t.position,r=t.next();return t.position=e,xe(e,r)})}function Ln(t){return is().bind(t)}function Gt(t){return new O(e=>t.target.parse(e))}function lt(t){return os(e=>e.token===t)}function R(t,e){return lt(t).expect(e)}O.prototype.oneOrMoreSeparatedBy=function(t){return this.bind(e=>t.seq(this).zeroOrMore().bind(r=>E([e].concat(r))))};O.prototype.zeroOrMoreSeparatedBy=function(t){return this.oneOrMoreSeparatedBy(t).or(E([]))};O.prototype.followedBy=function(t){return this.bind(e=>t.bind(r=>E(e)))};O.prototype.surroundedBy=function(t){return t.bind(e=>this.bind(r=>t.bind(n=>E(r))))};O.prototype.bracketedBy=function(t,e){return t.bind(r=>this.bind(n=>e.bind(o=>E(n))))};O.prototype.chainOneOrMore=function(t){return this.bind(e=>t.bind(r=>this.bind(n=>E([r,n]))).zeroOrMore().bind(r=>E(r.reduce((n,[o,i])=>o(n,i),e))))};O.prototype.chainZeroOrMore=function(t,e){return this.chainOneOrMore(t).or(E(e))};B.debugging=!1;var as=new ft([/true/,0],[/false/,1],[/null/,2],[/\{/,3],[/\}/,4],[/\[/,5],[/\]/,6],[/,/,7],[/:/,8],[/-?(?:[1-9]\d+|\d(?!\d))(?:\.\d+)?(?:[eE][+-]?\d+)?/,9],[/"(?:(?:(?!["\\])[\u{0020}-\u{ffff}])|(?:\\(?:["\\\/bnfrt]|(?:u[0-9a-fA-F]{4}))))*"/u,10],[/[\t\n\r ]+/,11],[/\/\/[^\n\r]*/,12]),us=lt(12),W=lt(11).or(us).zeroOrMore(),cs=R(9,"<number>").map(t=>Number(t.text)).followedBy(W),Bn=R(10,"<string>").map(t=>JSON.parse(t.text)).followedBy(W),fs=R(0,"true").map(t=>!0).followedBy(W),ps=R(1,"false").map(t=>!1).followedBy(W),ls=R(2,"null").map(t=>null).followedBy(W),Rn=R(7,",").followedBy(W),ms=R(8,":").followedBy(W),hs=R(5,"[").followedBy(W),ds=R(6,"]").followedBy(W),xs=R(3,"{").followedBy(W),gs=R(4,"}").followedBy(W),bs=R(13,"<end of input>"),mt=new ut,ys=Gt(mt).zeroOrMoreSeparatedBy(Rn).trace("elements"),ws=ys.bracketedBy(hs,ds).trace("array"),Ss=Bn.bind(t=>ms.bind(e=>Gt(mt).bind(r=>E([t,r])))).trace("member"),Ts=Ss.zeroOrMoreSeparatedBy(Rn).trace("members"),ks=Ts.bracketedBy(xs,gs).map(t=>On(t)).trace("object");mt.target=Ln(t=>{switch(t.token){case 3:return ks;case 5:return ws;case 10:return Bn;case 9:return cs;case 0:return fs;case 1:return ps;case 2:return ls;default:return pt(t.text,"{","[","<string>","<number>","true","false","null")}}).trace("element");var Is=W.seq(mt.target).followedBy(bs).trace("json");function Ns(t){return Mn(t,as,new Ue(13,"<end of input>"))}function ht(t){return jn(Is,Ns(t))}var Qo=Vt(Ht());var U=class t extends Error{constructor(e=!1){super(),this.interruptExecution=e,this.footprint=t.SharedFootPrint}static isFailure(e){return e!=null&&e.footprint===t.SharedFootPrint}};U.SharedFootPrint=Symbol("fast-check/PreconditionFailure");var Ve=class{[Symbol.iterator](){return this}next(e){return{value:e,done:!0}}};Ve.nil=new Ve;function Un(){return Ve.nil}function*Vn(t,e){for(let r of t)yield e(r)}function*Dn(t,e){for(let r of t)yield*e(r)}function*qn(t,e){for(let r of t)e(r)&&(yield r)}function*Wn(t,e){for(let r=0;r<e;++r){let n=t.next();if(n.done)break;yield n.value}}function*_n(t,e){let r=t.next();for(;!r.done&&e(r.value);)yield r.value,r=t.next()}function*zn(t,e){for(let r=t.next();!r.done;r=t.next())yield r.value;for(let r of e)for(let n=r.next();!n.done;n=r.next())yield n.value}var h=class t{constructor(e){this.g=e}static nil(){return new t(Un())}static of(...e){return new t(e[Symbol.iterator]())}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(e){return new t(Vn(this.g,e))}flatMap(e){return new t(Dn(this.g,e))}dropWhile(e){let r=!1;function*n(o){(r||!e(o))&&(r=!0,yield o)}return this.flatMap(n)}drop(e){let r=0;function n(){return r++<e}return this.dropWhile(n)}takeWhile(e){return new t(_n(this.g,e))}take(e){return new t(Wn(this.g,e))}filter(e){return new t(qn(this.g,e))}every(e){for(let r of this.g)if(!e(r))return!1;return!0}has(e){for(let r of this.g)if(e(r))return[!0,r];return[!1,null]}join(...e){return new t(zn(this.g,e))}getNthOrLast(e){let r=e,n=null;for(let o of this.g){if(r--===0)return o;n=o}return n}};function P(t){return new h(t)}var w=Symbol("fast-check/cloneMethod");function G(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&w in t&&typeof t[w]=="function"}function ge(t){return G(t)?t[w]():t}var C=class t{constructor(e,r=()=>h.nil(),n=void 0){this.value_=e,this.shrink=r,this.hasToBeCloned=n!==void 0||G(e),this.readOnce=!1,this.hasToBeCloned?Object.defineProperty(this,"value",{get:n!==void 0?n:this.getValue}):this.value=e}getValue(){return this.readOnce?this.value_[w]():(this.readOnce=!0,this.value_)}applyMapper(e){if(this.hasToBeCloned){let r=e(this.value);return r instanceof Object&&(r[w]=()=>this.applyMapper(e)),r}return e(this.value)}map(e){return new t(this.applyMapper(e),()=>this.shrink().map(r=>r.map(e)))}filter(e){let r=n=>e(n.value_);return new t(this.value,()=>this.shrink().filter(r).map(n=>n.filter(e)))}};var L=class{filter(e){return new Xt(this,e)}map(e){return new Yt(this,e)}chain(e){return new Kt(this,e)}noShrink(){return new Zt(this)}withBias(e){return this}noBias(){return new Qt(this)}},Kt=class t extends L{constructor(e,r){super(),this.arb=e,this.fmapper=r}generate(e){let r=e.clone(),n=this.arb.generate(e),o=this.fmapper(n.value).generate(e);return t.shrinkChain(r,n,o,this.fmapper)}withBias(e){return this.arb.withBias(e).chain(r=>this.fmapper(r).withBias(e))}static shrinkChain(e,r,n,o){return new C(n.value,()=>r.shrink().map(i=>t.shrinkChain(e.clone(),i,o(i.value).generate(e.clone()),o)).join(n.shrink()))}},Yt=class extends L{constructor(e,r){super(),this.arb=e,this.mapper=r}generate(e){return this.arb.generate(e).map(this.mapper)}withBias(e){return this.arb.withBias(e).map(this.mapper)}},Xt=class extends L{constructor(e,r){super(),this.arb=e,this.refinement=r}generate(e){let r=this.arb.generate(e);for(;!this.refinementOnShrinkable(r);)r=this.arb.generate(e);return r.filter(this.refinement)}withBias(e){return this.arb.withBias(e).filter(this.refinement)}refinementOnShrinkable(e){return this.refinement(e.value)}},Zt=class extends L{constructor(e){super(),this.arb=e}generate(e){return new C(this.arb.generate(e).value)}withBias(e){return this.arb.withBias(e).noShrink()}},Qt=class extends L{constructor(e){super(),this.arb=e}generate(e){return this.arb.generate(e)}};function Hn(t){if(typeof t!="object"||t===null||!("generate"in t))throw new Error("Unexpected value received: not an instance of Arbitrary")}function As(t){return t[0]}var De=class extends L{contextualShrinkableFor(e,r){return new C(e,()=>this.contextualShrink(e,r).map(n=>this.contextualShrinkableFor(n[0],n[1])))}shrink(e,r){let n=r===!0?this.shrunkOnceContext():void 0;return this.contextualShrink(e,n).map(As)}shrinkableFor(e,r){return new C(e,()=>this.shrink(e,r).map(n=>this.shrinkableFor(n,!0)))}};var f=class{constructor(e,r,n=void 0){this.value_=e,this.context=r,this.hasToBeCloned=n!==void 0||G(e),this.readOnce=!1,this.hasToBeCloned?Object.defineProperty(this,"value",{get:n!==void 0?n:this.getValue}):this.value=e}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[w]():(this.readOnce=!0,this.value_):this.value_}};var b=class{filter(e){return new rr(this,e)}map(e,r){return new tr(this,e,r)}chain(e){return new er(this,e)}noShrink(){return new nr(this)}noBias(){return new or(this)}},er=class extends b{constructor(e,r){super(),this.arb=e,this.chainer=r}generate(e,r){let n=e.clone(),o=this.arb.generate(e,r);return this.valueChainer(o,e,n,r)}canShrinkWithoutContext(e){return!1}shrink(e,r){return this.isSafeContext(r)?(r.stoppedForOriginal?h.nil():this.arb.shrink(r.originalValue,r.originalContext).map(n=>this.valueChainer(n,r.clonedMrng.clone(),r.clonedMrng,r.originalBias))).join(r.chainedArbitrary.shrink(e,r.chainedContext).map(n=>{let o=Object.assign(Object.assign({},r),{chainedContext:n.context,stoppedForOriginal:!0});return new f(n.value_,o)})):h.nil()}valueChainer(e,r,n,o){let i=this.chainer(e.value_),s=i.generate(r,o),a={originalBias:o,originalValue:e.value_,originalContext:e.context,stoppedForOriginal:!1,chainedArbitrary:i,chainedContext:s.context,clonedMrng:n};return new f(s.value_,a)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalBias"in e&&"originalValue"in e&&"originalContext"in e&&"stoppedForOriginal"in e&&"chainedArbitrary"in e&&"chainedContext"in e&&"clonedMrng"in e}},tr=class extends b{constructor(e,r,n){super(),this.arb=e,this.mapper=r,this.unmapper=n,this.bindValueMapper=this.valueMapper.bind(this)}generate(e,r){let n=this.arb.generate(e,r);return this.valueMapper(n)}canShrinkWithoutContext(e){if(this.unmapper!==void 0)try{let r=this.unmapper(e);return this.arb.canShrinkWithoutContext(r)}catch{return!1}return!1}shrink(e,r){if(this.isSafeContext(r))return this.arb.shrink(r.originalValue,r.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){let n=this.unmapper(e);return this.arb.shrink(n,void 0).map(this.bindValueMapper)}return h.nil()}mapperWithCloneIfNeeded(e){let r=e.value,n=this.mapper(r);return e.hasToBeCloned&&(typeof n=="object"&&n!==null||typeof n=="function")&&Object.isExtensible(n)&&Object.defineProperty(n,w,{get:()=>()=>this.mapperWithCloneIfNeeded(e)[0]}),[n,r]}valueMapper(e){let[r,n]=this.mapperWithCloneIfNeeded(e),o={originalValue:n,originalContext:e.context};return new f(r,o)}isSafeContext(e){return e!=null&&typeof e=="object"&&"originalValue"in e&&"originalContext"in e}},rr=class extends b{constructor(e,r){super(),this.arb=e,this.refinement=r,this.bindRefinementOnValue=this.refinementOnValue.bind(this)}generate(e,r){for(;;){let n=this.arb.generate(e,r);if(this.refinementOnValue(n))return n}}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)&&this.refinement(e)}shrink(e,r){return this.arb.shrink(e,r).filter(this.bindRefinementOnValue)}refinementOnValue(e){return this.refinement(e.value)}},nr=class extends b{constructor(e){super(),this.arb=e}generate(e,r){return this.arb.generate(e,r)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,r){return h.nil()}noShrink(){return this}},or=class extends b{constructor(e){super(),this.arb=e}generate(e,r){return this.arb.generate(e,void 0)}canShrinkWithoutContext(e){return this.arb.canShrinkWithoutContext(e)}shrink(e,r){return this.arb.shrink(e,r)}noBias(){return this}};function ir(t){if(typeof t!="object"||t===null||!("generate"in t)||!("shrink"in t)||"shrinkableFor"in t)throw new Error("Unexpected value received: not an instance of NextArbitrary")}var Gn,Kn="__ConverterToNext__";function Jn(t){return t.hasToBeCloned?new f(t.value_,t,()=>t.value):new f(t.value_,t)}var Q=class t extends b{constructor(e){super(),this.arb=e,this[Gn]=!0}static isConverterToNext(e){return Kn in e}static convertIfNeeded(e){return V.isConverterFromNext(e)?e.arb:new t(e)}generate(e,r){let n=r!==void 0?this.arb.withBias(r).generate(e):this.arb.generate(e);return Jn(n)}canShrinkWithoutContext(e){return!1}shrink(e,r){return this.isSafeContext(r)?r.shrink().map(Jn):h.nil()}isSafeContext(e){return e!=null&&typeof e=="object"&&"value"in e&&"shrink"in e}filter(e){return t.convertIfNeeded(this.arb.filter(e))}map(e){return t.convertIfNeeded(this.arb.map(e))}chain(e){return t.convertIfNeeded(this.arb.chain(r=>{let n=e(r);return t.isConverterToNext(n)?n.arb:new V(n)}))}noShrink(){return t.convertIfNeeded(this.arb.noShrink())}noBias(){return t.convertIfNeeded(this.arb.noBias())}};Gn=Kn;var Yn,Xn="__ConverterFromNext__";function Cs(t){return function e(r){let n=r.value_,o=()=>t.shrink(n,r.context).map(e);return r.hasToBeCloned?new C(n,o,()=>r.value):new C(n,o)}}var V=class t extends De{constructor(e,r,n=void 0){super(),this.arb=e,this.legacyShrunkOnceContext=r,this.biasFactor=n,this[Yn]=!0,this.toShrinkable=Cs(e)}static isConverterFromNext(e){return Xn in e}static convertIfNeeded(e){return Q.isConverterToNext(e)?e.arb:new t(e)}generate(e){let r=this.arb.generate(e,this.biasFactor);return this.toShrinkable(r)}contextualShrink(e,r){return this.arb.shrink(e,r).map(n=>[n.value_,n.context])}shrunkOnceContext(){return this.legacyShrunkOnceContext}filter(e){return t.convertIfNeeded(this.arb.filter(e))}map(e){return t.convertIfNeeded(this.arb.map(e))}chain(e){return t.convertIfNeeded(this.arb.chain(r=>{let n=e(r);return t.isConverterFromNext(n)?n.arb:new Q(n)}))}noShrink(){return t.convertIfNeeded(this.arb.noShrink())}withBias(e){return new t(this.arb,this.legacyShrunkOnceContext,e)}noBias(){return t.convertIfNeeded(this.arb.noBias())}};Yn=Xn;function p(t){return Q.isConverterToNext(t)?t.arb:(ir(t),new V(t))}function F(t,e){if(Q.isConverterToNext(t)){if(!("contextualShrink"in t.arb)||!("contextualShrinkableFor"in t.arb)||!("shrunkOnceContext"in t.arb)||!("shrink"in t.arb)||!("shrinkableFor"in t.arb))throw new Error("Conversion rejected: Underlying arbitrary is not compatible with ArbitraryWithContextualShrink");return t.arb}return ir(t),new V(t,e)}function m(t){return V.isConverterFromNext(t)?t.arb:(Hn(t),new Q(t))}var Ee=class t extends b{constructor(e){super(),this.arbs=e;for(let r=0;r!==e.length;++r){let n=e[r];if(n==null||n.generate==null)throw new Error(`Invalid parameter encountered at index ${r}: expecting an Arbitrary`)}}static makeItCloneable(e,r){return Object.defineProperty(e,w,{value:()=>{let n=[];for(let o=0;o!==r.length;++o)n.push(r[o].value);return t.makeItCloneable(n,r),n}})}static wrapper(e){let r=!1,n=[],o=[];for(let i=0;i!==e.length;++i){let s=e[i];r=r||s.hasToBeCloned,n.push(s.value),o.push(s.context)}return r&&t.makeItCloneable(n,e),new f(n,o)}generate(e,r){return t.wrapper(this.arbs.map(n=>n.generate(e,r)))}canShrinkWithoutContext(e){if(!Array.isArray(e)||e.length!==this.arbs.length)return!1;for(let r=0;r!==this.arbs.length;++r)if(!this.arbs[r].canShrinkWithoutContext(e[r]))return!1;return!0}shrink(e,r){let n=h.nil(),o=Array.isArray(r)?r:[];for(let i=0;i!==this.arbs.length;++i){let s=this.arbs[i].shrink(e[i],o[i]).map(a=>{let u=e.map((c,l)=>new f(ge(c),o[l]));return u.slice(0,i).concat([a]).concat(u.slice(i+1))}).map(a=>t.wrapper(a));n=n.join(s)}return n}};function dt(t){let e=t.map(r=>m(r));return p(new Ee(e))}var Pe=t=>2+Math.floor(Math.log(t+1)/Math.log(10));var Es={};function pe(){return Es}var xt=class t{constructor(e,r){this.arb=e,this.predicate=r,this.isAsync=()=>!0;let{asyncBeforeEach:n,asyncAfterEach:o,beforeEach:i,afterEach:s}=pe()||{};if(n!==void 0&&i!==void 0)throw Error(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(o!==void 0&&s!==void 0)throw Error(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=n||i||t.dummyHook,this.afterEachHook=o||s||t.dummyHook}generate(e,r){return V.isConverterFromNext(this.arb)?this.arb.toShrinkable(this.arb.arb.generate(e,r!=null?Pe(r):void 0)):r!=null?this.arb.withBias(Pe(r)).generate(e):this.arb.generate(e)}async run(e){await this.beforeEachHook();try{let r=await this.predicate(e);return r==null||r===!0?null:"Property failed by returning false"}catch(r){return U.isFailure(r)?r:r instanceof Error&&r.stack?`${r}

Stack trace: ${r.stack}`:`${r}`}finally{await this.afterEachHook()}}beforeEach(e){let r=this.beforeEachHook;return this.beforeEachHook=()=>e(r),this}afterEach(e){let r=this.afterEachHook;return this.afterEachHook=()=>e(r),this}};xt.dummyHook=()=>{};var Oe=class t{constructor(e,r){this.arb=e,this.predicate=r,this.isAsync=()=>!1;let{beforeEach:n=t.dummyHook,afterEach:o=t.dummyHook,asyncBeforeEach:i,asyncAfterEach:s}=pe()||{};if(i!==void 0)throw Error(`"asyncBeforeEach" can't be set when running synchronous properties`);if(s!==void 0)throw Error(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=n,this.afterEachHook=o}generate(e,r){return V.isConverterFromNext(this.arb)?this.arb.toShrinkable(this.arb.arb.generate(e,r!=null?Pe(r):void 0)):r!=null?this.arb.withBias(Pe(r)).generate(e):this.arb.generate(e)}run(e){this.beforeEachHook();try{let r=this.predicate(e);return r==null||r===!0?null:"Property failed by returning false"}catch(r){return U.isFailure(r)?r:r instanceof Error&&r.stack?`${r}

Stack trace: ${r.stack}`:`${r}`}finally{this.afterEachHook()}}beforeEach(e){let r=this.beforeEachHook;return this.beforeEachHook=()=>e(r),this}afterEach(e){let r=this.afterEachHook;return this.afterEachHook=()=>e(r),this}};Oe.dummyHook=()=>{};function gt(...t){if(t.length<2)throw new Error("property expects at least two parameters");let e=t.slice(0,t.length-1),r=t[t.length-1];return new Oe(dt(e),n=>r(...n))}var pr={};ai(pr,{__commitHash:()=>Hs,__type:()=>_s,__version:()=>zs,congruential:()=>Qn,congruential32:()=>eo,generateN:()=>Zn,mersenne:()=>to,skipN:()=>bt,uniformArrayIntDistribution:()=>so,uniformBigIntDistribution:()=>ao,uniformIntDistribution:()=>co,unsafeGenerateN:()=>sr,unsafeSkipN:()=>ar,unsafeUniformArrayIntDistribution:()=>be,unsafeUniformBigIntDistribution:()=>ye,unsafeUniformIntDistribution:()=>ee,xoroshiro128plus:()=>no,xorshift128plus:()=>ro});function sr(t,e){for(var r=[],n=0;n!=e;++n)r.push(t.unsafeNext());return r}function Zn(t,e){var r=t.clone(),n=sr(r,e);return[n,r]}function ar(t,e){for(var r=0;r!=e;++r)t.unsafeNext()}function bt(t,e){var r=t.clone();return ar(r,e),r}var Os=214013,Fs=2531011,Ms=4294967295,js=(1<<31)-1,yt=function(t){return t*Os+Fs&Ms},wt=function(t){return(t&js)>>16},Ls=function(){function t(e){this.seed=e}return t.prototype.min=function(){return t.min},t.prototype.max=function(){return t.max},t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var e=new t(this.seed),r=e.unsafeNext();return[r,e]},t.prototype.unsafeNext=function(){return this.seed=yt(this.seed),wt(this.seed)},t.min=0,t.max=Math.pow(2,15)-1,t}(),$s=function(){function t(e){this.seed=e}return t.prototype.min=function(){return t.min},t.prototype.max=function(){return t.max},t.prototype.clone=function(){return new t(this.seed)},t.prototype.next=function(){var e=new t(this.seed),r=e.unsafeNext();return[r,e]},t.prototype.unsafeNext=function(){var e=yt(this.seed),r=wt(e),n=yt(e),o=wt(n);this.seed=yt(n);var i=wt(this.seed),s=i+(o+(r<<15)<<15);return(s+2147483648|0)+2147483648},t.min=0,t.max=4294967295,t}(),Qn=function(t){return new Ls(t)},eo=function(t){return new $s(t)};var Bs=function(){function t(e,r){this.states=e,this.index=r}return t.twist=function(e){for(var r=e.slice(),n=0;n!==t.N-t.M;++n){var o=(r[n]&t.MASK_UPPER)+(r[n+1]&t.MASK_LOWER);r[n]=r[n+t.M]^o>>>1^-(o&1)&t.A}for(var n=t.N-t.M;n!==t.N-1;++n){var i=(r[n]&t.MASK_UPPER)+(r[n+1]&t.MASK_LOWER);r[n]=r[n+t.M-t.N]^i>>>1^-(i&1)&t.A}var s=(r[t.N-1]&t.MASK_UPPER)+(r[0]&t.MASK_LOWER);return r[t.N-1]=r[t.M-1]^s>>>1^-(s&1)&t.A,r},t.seeded=function(e){var r=Array(t.N);r[0]=e;for(var n=1;n!==t.N;++n){var o=r[n-1]^r[n-1]>>>30;r[n]=Math.imul(t.F,o)+n|0}return r},t.from=function(e){return new t(t.twist(t.seeded(e)),0)},t.prototype.min=function(){return t.min},t.prototype.max=function(){return t.max},t.prototype.clone=function(){return new t(this.states,this.index)},t.prototype.next=function(){var e=new t(this.states,this.index),r=e.unsafeNext();return[r,e]},t.prototype.unsafeNext=function(){var e=this.states[this.index];return e^=this.states[this.index]>>>t.U,e^=e<<t.S&t.B,e^=e<<t.T&t.C,e^=e>>>t.L,++this.index>=t.N&&(this.states=t.twist(this.states),this.index=0),e>>>0},t.min=0,t.max=4294967295,t.N=624,t.M=397,t.R=31,t.A=2567483615,t.F=1812433253,t.U=11,t.S=7,t.B=2636928640,t.T=15,t.C=4022730752,t.L=18,t.MASK_LOWER=Math.pow(2,t.R)-1,t.MASK_UPPER=Math.pow(2,t.R),t}();function to(t){return Bs.from(t)}var Rs=function(){function t(e,r,n,o){this.s01=e,this.s00=r,this.s11=n,this.s10=o}return t.prototype.min=function(){return-2147483648},t.prototype.max=function(){return 2147483647},t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),r=e.unsafeNext();return[r,e]},t.prototype.unsafeNext=function(){var e=this.s00^this.s00<<23,r=this.s01^(this.s01<<23|this.s00>>>9),n=e^this.s10^(e>>>18|r<<14)^(this.s10>>>5|this.s11<<27),o=r^this.s11^r>>>18^this.s11>>>5,i=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=o,this.s10=n,i},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,r=0,n=0,o=0,i=[1667051007,2321340297,1548169110,304075285],s=0;s!==4;++s)for(var a=1;a;a<<=1)i[s]&a&&(e^=this.s01,r^=this.s00,n^=this.s11,o^=this.s10),this.unsafeNext();this.s01=e,this.s00=r,this.s11=n,this.s10=o},t}(),ro=function(t){return new Rs(-1,~t,t|0,0)};var Us=function(){function t(e,r,n,o){this.s01=e,this.s00=r,this.s11=n,this.s10=o}return t.prototype.min=function(){return-2147483648},t.prototype.max=function(){return 2147483647},t.prototype.clone=function(){return new t(this.s01,this.s00,this.s11,this.s10)},t.prototype.next=function(){var e=new t(this.s01,this.s00,this.s11,this.s10),r=e.unsafeNext();return[r,e]},t.prototype.unsafeNext=function(){var e=this.s00+this.s10|0,r=this.s10^this.s00,n=this.s11^this.s01,o=this.s00,i=this.s01;return this.s00=o<<24^i>>>8^r^r<<16,this.s01=i<<24^o>>>8^n^(n<<16|r>>>16),this.s10=n<<5^r>>>27,this.s11=r<<5^n>>>27,e},t.prototype.jump=function(){var e=new t(this.s01,this.s00,this.s11,this.s10);return e.unsafeJump(),e},t.prototype.unsafeJump=function(){for(var e=0,r=0,n=0,o=0,i=[3639956645,3750757012,1261568508,386426335],s=0;s!==4;++s)for(var a=1;a;a<<=1)i[s]&a&&(e^=this.s01,r^=this.s00,n^=this.s11,o^=this.s10),this.unsafeNext();this.s01=e,this.s00=r,this.s11=n,this.s10=o},t}(),no=function(t){return new Us(-1,~t,t|0,0)};function ur(t,e){if(t.sign!==e.sign)return St(t,{sign:-e.sign,data:e.data});for(var r=[],n=0,o=t.data,i=e.data,s=o.length-1,a=i.length-1;s>=0||a>=0;--s,--a){var u=s>=0?o[s]:0,c=a>=0?i[a]:0,l=u+c+n;r.push(l>>>0),n=~~(l/4294967296)}return n!==0&&r.push(n),{sign:t.sign,data:r.reverse()}}function oo(t){t.sign=1;for(var e=t.data,r=e.length-1;r>=0;--r)if(e[r]===4294967295)e[r]=0;else return e[r]+=1,t;return e.unshift(1),t}function Vs(t,e){for(var r=Math.max(t.length,e.length),n=0;n<r;++n){var o=n+t.length-r,i=n+e.length-r,s=o>=0?t[o]:0,a=i>=0?e[i]:0;if(s<a)return!0;if(s>a)return!1}return!1}function St(t,e){if(t.sign!==e.sign)return ur(t,{sign:-e.sign,data:e.data});var r=t.data,n=e.data;if(Vs(r,n)){var o=St(e,t);return o.sign=-o.sign,o}for(var i=[],s=0,a=r.length-1,u=n.length-1;a>=0||u>=0;--a,--u){var c=a>=0?r[a]:0,l=u>=0?n[u]:0,g=c-l-s;i.push(g>>>0),s=g<0?1:0}return{sign:t.sign,data:i.reverse()}}function cr(t){for(var e=t.data,r=0;r!==e.length&&e[r]===0;++r);return r===e.length?(t.sign=1,t.data=[0],t):(e.splice(0,r),t)}function Tt(t,e){if(e<0){var r=-e;t.sign=-1,t.data[0]=~~(r/4294967296),t.data[1]=r>>>0}else t.sign=1,t.data[0]=~~(e/4294967296),t.data[1]=e>>>0;return t}function io(t,e,r){var n=e.data[1],o=e.data[0],i=e.sign,s=r.data[1],a=r.data[0],u=r.sign;if(t.sign=1,i===1&&u===-1){var c=n+s,l=o+a+(c>4294967295?1:0);return t.data[0]=l>>>0,t.data[1]=c>>>0,t}var g=n,S=o,j=s,Ne=a;i===-1&&(g=s,S=a,j=n,Ne=o);var tt=0,de=g-j;return de<0&&(tt=1,de=de>>>0),t.data[0]=S-Ne-tt,t.data[1]=de,t}function kt(t,e){var r=e.min(),n=e.max()-e.min()+1;if(t<=n)for(var o=e,i=n-n%t;;){var s=o.unsafeNext(),a=s-r;if(a<i)return a%t}for(var u=n*n,c=2;u<t;)u*=n,++c;for(var l=t*Math.floor(1*u/t),g=e;;){for(var S=0,j=0;j!==c;++j){var s=g.unsafeNext();S=n*S+(s-r)}if(S<l){var Ne=S-t*Math.floor(1*S/t);return Ne}}}function It(t,e,r){for(var n=e.length;;){for(var o=0;o!==n;++o){var i=o===0?e[0]+1:4294967296,s=kt(i,r);t[o]=s}for(var o=0;o!==n;++o){var a=t[o],u=e[o];if(a<u)return t;if(a>u)break}}}function be(t,e,r){var n=cr(oo(St(e,t))),o=n.data.slice(0),i=It(o,n.data,r);return cr(ur({sign:1,data:i},t))}function so(t,e,r){if(r!=null){var n=r.clone();return[be(t,e,n),n]}return function(o){var i=o.clone();return[be(t,e,i),i]}}function ye(t,e,r){for(var n=e-t+BigInt(1),o=BigInt(r.min()),i=BigInt(r.max()-r.min()+1),s=i,a=BigInt(1);s<n;)s*=i,++a;for(var u=s-s%n;;){for(var c=BigInt(0),l=BigInt(0);l!==a;++l){var g=r.unsafeNext();c=i*c+(BigInt(g)-o)}if(c<u){var S=c%n;return S+t}}}function ao(t,e,r){if(r!=null){var n=r.clone();return[ye(t,e,n),n]}return function(o){var i=o.clone();return[ye(t,e,i),i]}}var Ds={sign:1,data:[0,0]},qs={sign:1,data:[0,0]},uo={sign:1,data:[0,0]},fr=[0,0];function Ws(t,e,r,n){var o=r<=Number.MAX_SAFE_INTEGER?Tt(uo,r):io(uo,Tt(Ds,e),Tt(qs,t));return o.data[1]===4294967295?(o.data[0]+=1,o.data[1]=0):o.data[1]+=1,It(fr,o.data,n),fr[0]*4294967296+fr[1]+t}function ee(t,e,r){var n=e-t;if(n<=4294967295){var o=kt(n+1,r);return o+t}return Ws(t,e,n,r)}function co(t,e,r){if(r!=null){var n=r.clone();return[ee(t,e,n),n]}return function(o){var i=o.clone();return[ee(t,e,i),i]}}var _s="module",zs="5.0.0",Hs="744555855a01e1551ab1cf67a6ea973d14964661";var we=pr;var I;(function(t){t[t.None=0]="None",t[t.Verbose=1]="Verbose",t[t.VeryVerbose=2]="VeryVerbose"})(I||(I={}));var _=class t{constructor(e){let r=e||{};this.seed=t.readSeed(r),this.randomType=t.readRandomType(r),this.numRuns=t.readNumRuns(r),this.verbose=t.readVerbose(r),this.maxSkipsPerRun=t.readOrDefault(r,"maxSkipsPerRun",100),this.timeout=t.readOrDefault(r,"timeout",null),this.skipAllAfterTimeLimit=t.readOrDefault(r,"skipAllAfterTimeLimit",null),this.interruptAfterTimeLimit=t.readOrDefault(r,"interruptAfterTimeLimit",null),this.markInterruptAsFailure=t.readBoolean(r,"markInterruptAsFailure"),this.skipEqualValues=t.readBoolean(r,"skipEqualValues"),this.ignoreEqualValues=t.readBoolean(r,"ignoreEqualValues"),this.logger=t.readOrDefault(r,"logger",n=>{console.log(n)}),this.path=t.readOrDefault(r,"path",""),this.unbiased=t.readBoolean(r,"unbiased"),this.examples=t.readOrDefault(r,"examples",[]),this.endOnFailure=t.readBoolean(r,"endOnFailure"),this.reporter=t.readOrDefault(r,"reporter",null),this.asyncReporter=t.readOrDefault(r,"asyncReporter",null)}toParameters(){let e=r=>r!==null?r:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:e(this.timeout),skipAllAfterTimeLimit:e(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:e(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:e(this.reporter),asyncReporter:e(this.asyncReporter)}}static read(e){return new t(e)}};_.readSeed=t=>{if(t.seed==null)return Date.now()^Math.random()*4294967296;let e=t.seed|0;if(t.seed===e)return e;let r=t.seed-e;return e^r*4294967296};_.readRandomType=t=>{if(t.randomType==null)return we.xorshift128plus;if(typeof t.randomType=="string")switch(t.randomType){case"mersenne":return we.mersenne;case"congruential":return we.congruential;case"congruential32":return we.congruential32;case"xorshift128plus":return we.xorshift128plus;case"xoroshiro128plus":return we.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${t.randomType}'`)}return t.randomType};_.readNumRuns=t=>t.numRuns!=null?t.numRuns:t.num_runs!=null?t.num_runs:100;_.readVerbose=t=>t.verbose==null?I.None:typeof t.verbose=="boolean"?t.verbose===!0?I.Verbose:I.None:t.verbose<=I.None?I.None:t.verbose>=I.VeryVerbose?I.VeryVerbose:t.verbose|0;_.readBoolean=(t,e)=>t[e]===!0;_.readOrDefault=(t,e,r)=>{let n=t[e];return n??r};var qe=class{constructor(e,r,n,o){this.property=e,this.getTime=r,this.interruptExecution=o,this.isAsync=()=>this.property.isAsync(),this.generate=(i,s)=>this.property.generate(i,s),this.run=i=>{if(this.getTime()>=this.skipAfterTime){let s=new U(this.interruptExecution);return this.isAsync()?Promise.resolve(s):s}return this.property.run(i)},this.skipAfterTime=this.getTime()+n}};var Js=t=>{let e=null,r=new Promise(n=>{e=setTimeout(()=>{n(`Property timeout: exceeded limit of ${t} milliseconds`)},t)});return{clear:()=>clearTimeout(e),promise:r}},Nt=class{constructor(e,r){this.property=e,this.timeMs=r,this.isAsync=()=>!0}generate(e,r){return this.property.generate(e,r)}async run(e){let r=Js(this.timeMs),n=Promise.race([this.property.run(e),r.promise]);return n.then(r.clear,r.clear),n}};var We=class{constructor(e){this.property=e,this.isAsync=()=>this.property.isAsync(),this.generate=(r,n)=>this.property.generate(r),this.run=r=>this.property.run(r)}};var Se=Symbol("fast-check/toStringMethod");function lr(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&Se in t&&typeof t[Se]=="function"}var le=Symbol("fast-check/asyncToStringMethod");function mr(t){return t!==null&&(typeof t=="object"||typeof t=="function")&&le in t&&typeof t[le]=="function"}var Gs=/^Symbol\((.*)\)$/;function Ks(t){if(t.description!==void 0)return t.description;let e=Gs.exec(String(t));return e&&e[1].length?e[1]:null}function fo(t){switch(t){case 0:return 1/t===Number.NEGATIVE_INFINITY?"-0":"0";case Number.NEGATIVE_INFINITY:return"Number.NEGATIVE_INFINITY";case Number.POSITIVE_INFINITY:return"Number.POSITIVE_INFINITY";default:return t===t?String(t):"Number.NaN"}}function Ys(t){let e=-1;for(let r in t){let n=Number(r);if(n!==e+1)return!0;e=n}return e+1!==t.length}function D(t,e,r){let n=e.concat([t]);if(typeof t=="object"&&e.indexOf(t)!==-1)return"[cyclic]";if(mr(t)){let o=r(t);if(o.state==="fulfilled")return o.value}if(lr(t))try{return t[Se]()}catch{}switch(Object.prototype.toString.call(t)){case"[object Array]":{let o=t;if(o.length>=50&&Ys(o)){let s=[];for(let a in o)Number.isNaN(Number(a))||s.push(`${a}:${D(o[a],n,r)}`);return s.length!==0?`Object.assign(Array(${o.length}),{${s.join(",")}})`:`Array(${o.length})`}let i=o.map(s=>D(s,n,r)).join(",");return o.length===0||o.length-1 in o?`[${i}]`:`[${i},]`}case"[object BigInt]":return`${t}n`;case"[object Boolean]":return typeof t=="boolean"?JSON.stringify(t):`new Boolean(${JSON.stringify(t)})`;case"[object Date]":{let o=t;return Number.isNaN(o.getTime())?"new Date(NaN)":`new Date(${JSON.stringify(o.toISOString())})`}case"[object Map]":return`new Map(${D(Array.from(t),n,r)})`;case"[object Null]":return"null";case"[object Number]":return typeof t=="number"?fo(t):`new Number(${fo(Number(t))})`;case"[object Object]":{try{let a=t.toString;if(typeof a=="function"&&a!==Object.prototype.toString)return t.toString()}catch{return"[object Object]"}let o=a=>`${a==="__proto__"?'["__proto__"]':typeof a=="symbol"?`[${D(a,n,r)}]`:JSON.stringify(a)}:${D(t[a],n,r)}`,s="{"+[...Object.keys(t).map(o),...Object.getOwnPropertySymbols(t).filter(a=>{let u=Object.getOwnPropertyDescriptor(t,a);return u&&u.enumerable}).map(o)].join(",")+"}";return Object.getPrototypeOf(t)===null?s==="{}"?"Object.create(null)":`Object.assign(Object.create(null),${s})`:s}case"[object Set]":return`new Set(${D(Array.from(t),n,r)})`;case"[object String]":return typeof t=="string"?JSON.stringify(t):`new String(${JSON.stringify(t)})`;case"[object Symbol]":{let o=t;if(Symbol.keyFor(o)!==void 0)return`Symbol.for(${JSON.stringify(Symbol.keyFor(o))})`;let i=Ks(o);if(i===null)return"Symbol()";let s=i.startsWith("Symbol.")&&Symbol[i.substring(7)];return o===s?i:`Symbol(${JSON.stringify(i)})`}case"[object Promise]":{let o=r(t);switch(o.state){case"fulfilled":return`Promise.resolve(${D(o.value,n,r)})`;case"rejected":return`Promise.reject(${D(o.value,n,r)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(t instanceof Error)return`new Error(${D(t.message,n,r)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(t))return`Buffer.from(${D(Array.from(t.values()),n,r)})`;let o=Object.getPrototypeOf(t),i=o&&o.constructor&&o.constructor.name;if(typeof i=="string"){let a=t.values();return`${i}.from(${D(Array.from(a),n,r)})`}break}}try{return t.toString()}catch{return Object.prototype.toString.call(t)}}function M(t){return D(t,[],()=>({state:"unknown",value:void 0}))}function po(t){let e=Symbol(),r=[],n=new Map;function o(){let u=null,c=()=>{u!==null&&clearTimeout(u)};return{delay:new Promise(g=>{u=setTimeout(()=>{u=null,g(e)},0)}),cancel:c}}let i={state:"unknown",value:void 0},s=function(c){let l=c;if(n.has(l))return n.get(l);let g=o(),S=le in c?Promise.resolve().then(()=>c[le]()):c;return S.catch(()=>{}),r.push(Promise.race([S,g.delay]).then(j=>{j===e?n.set(l,{state:"pending",value:void 0}):n.set(l,{state:"fulfilled",value:j}),g.cancel()},j=>{n.set(l,{state:"rejected",value:j}),g.cancel()})),n.set(l,i),i};function a(){let u=D(t,[],s);return r.length===0?u:Promise.all(r.splice(0)).then(a)}return a()}function lo(t){return t===null?new U:t}function Xs(...t){return t[1]?t[0].then(lo):lo(t[0])}function Zs(t,e){return Xs(t,e)}var _e=class{constructor(e,r){this.property=e,this.skipRuns=r,this.coveredCases=new Map,this.isAsync=()=>this.property.isAsync(),this.generate=(n,o)=>this.property.generate(n,o),this.run=n=>{let o=M(n);if(this.coveredCases.has(o)){let s=this.coveredCases.get(o);return this.skipRuns?Zs(s,this.property.isAsync()):s}let i=this.property.run(n);return this.coveredCases.set(o,i),i}}};function mo(t,e){let r=t;return t.isAsync()&&e.timeout!=null&&(r=new Nt(r,e.timeout)),e.unbiased&&(r=new We(r)),e.skipAllAfterTimeLimit!=null&&(r=new qe(r,Date.now,e.skipAllAfterTimeLimit,!1)),e.interruptAfterTimeLimit!=null&&(r=new qe(r,Date.now,e.interruptAfterTimeLimit,!0)),e.skipEqualValues&&(r=new _e(r,!0)),e.ignoreEqualValues&&(r=new _e(r,!1)),r}var z;(function(t){t[t.Success=0]="Success",t[t.Skipped=-1]="Skipped",t[t.Failure=1]="Failure"})(z||(z={}));var ze=class t{constructor(e,r){this.verbosity=e,this.interruptedAsFailure=r,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+this.pathToFailure.split(":")[0]:-1,this.numShrinks=()=>this.pathToFailure?this.pathToFailure.split(":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(e,r){let n={status:e,value:r,children:[]};return this.currentLevelExecutionTrees.push(n),n}fail(e,r,n){if(this.verbosity>=I.Verbose){let o=this.appendExecutionTree(z.Failure,e);this.currentLevelExecutionTrees=o.children}this.pathToFailure==null?this.pathToFailure=`${r}`:this.pathToFailure+=`:${r}`,this.value=e,this.failure=n}skip(e){this.verbosity>=I.VeryVerbose&&this.appendExecutionTree(z.Skipped,e),this.pathToFailure==null&&++this.numSkips}success(e){this.verbosity>=I.VeryVerbose&&this.appendExecutionTree(z.Success,e),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];let e=[],r=this.rootExecutionTrees;for(;r.length>0&&r[r.length-1].status===z.Failure;){let n=r[r.length-1];e.push(n.value),r=n.children}return e}toRunDetails(e,r,n,o){return this.isSuccess()?{failed:this.numSkips>n||this.interrupted&&this.interruptedAsFailure,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:e,counterexample:null,counterexamplePath:null,error:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:o.toParameters()}:{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:e,counterexample:this.value,counterexamplePath:t.mergePaths(r,this.pathToFailure),error:this.failure,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:o.toParameters()}}};ze.mergePaths=(t,e)=>{if(t.length===0)return e;let r=t.split(":"),n=e.split(":"),o=+r[r.length-1]+ +n[0];return[...r.slice(0,r.length-1),`${o}`,...n.slice(1)].join(":")};var He=class{constructor(e,r,n){this.sourceValues=e,this.runExecution=new ze(r,n),this.currentIdx=-1,this.nextValues=e}[Symbol.iterator](){return this}next(){let e=this.nextValues.next();return e.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentShrinkable=e.value,++this.currentIdx,{done:!1,value:e.value.value_})}handleResult(e){e!=null&&typeof e=="string"?(this.runExecution.fail(this.currentShrinkable.value_,this.currentIdx,e),this.currentIdx=-1,this.nextValues=this.currentShrinkable.shrink()):e!=null?e.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentShrinkable.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentShrinkable.value_)}};var vt=class{constructor(e,r,n){this.initialValues=e,this.maxInitialIterations=r,this.remainingSkips=n}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){let e=this.initialValues.next();if(!e.done)return{value:e.value(),done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}};var hr=class t{constructor(e){this.rng=e,typeof this.rng.jump=="function"&&(this.jump=function(){let n=this.jump();return new t(n)},this.unsafeJump=function(){let n=this.jump();this.rng=n})}min(){return this.rng.min()}max(){return this.rng.max()}clone(){return new t(this.rng)}next(){let e=this.rng.next();return[e[0],new t(e[1])]}unsafeNext(){let e=this.rng.next();return this.rng=e[1],e[0]}};function At(t){return"clone"in t&&"unsafeNext"in t?t:new hr(t)}var te=class t{constructor(e){this.internalRng=At(e).clone()}clone(){return new t(this.internalRng)}next(e){return ee(0,(1<<e)-1,this.internalRng)}nextBoolean(){return ee(0,1,this.internalRng)==1}nextInt(e,r){return ee(e??t.MIN_INT,r??t.MAX_INT,this.internalRng)}nextBigInt(e,r){return ye(e,r,this.internalRng)}nextArrayInt(e,r){return be(e,r,this.internalRng)}nextDouble(){let e=this.next(26),r=this.next(27);return(e*t.DBL_FACTOR+r)*t.DBL_DIVISOR}};te.MIN_INT=-2147483648;te.MAX_INT=2147483647;te.DBL_FACTOR=Math.pow(2,27);te.DBL_DIVISOR=Math.pow(2,-53);function Qs(t,e,r){return()=>t.generate(new te(e),r)}function*dr(t,e,r,n){yield*n.map(s=>()=>new C(s));let o=0,i=At(r(e));for(;;)i=i.jump?i.jump():bt(i,42),yield Qs(t,i,o++)}function xr(t,e){let r=P(e),n=t.split(":").map(o=>+o);if(n.length===0)return r;if(!n.every(o=>!Number.isNaN(o)))throw new Error(`Unable to replay, got invalid path=${t}`);r=r.drop(n[0]);for(let o of n.slice(1)){let i=r.getNthOrLast(0);if(i==null)throw new Error(`Unable to replay, got wrong path=${t}`);r=i.shrink().drop(o)}return r}function ea(t){return t.length===1?`Hint: ${t[0]}`:t.map((e,r)=>`Hint (${r+1}): ${e}`).join(`
`)}function ta(t,e){return`Encountered failures were:
- ${t.map(e).join(`
- `)}`}function br(t,e){let r=[],n=[];for(let o of t.slice().reverse())n.push({depth:1,tree:o});for(;n.length!==0;){let o=n.pop(),i=o.tree,s=o.depth,a=i.status===z.Success?"\x1B[32m\u221A\x1B[0m":i.status===z.Failure?"\x1B[31m\xD7\x1B[0m":"\x1B[33m!\x1B[0m",u=Array(s).join(". ");r.push(`${u}${a} ${e(i.value)}`);for(let c of i.children.slice().reverse())n.push({depth:s+1,tree:c})}return`Execution summary:
${r.join(`
`)}`}function ra(t,e){let r=`Failed to run property, too many pre-condition failures encountered
{ seed: ${t.seed} }

Ran ${t.numRuns} time(s)
Skipped ${t.numSkips} time(s)`,n=null,o=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return t.verbose>=I.VeryVerbose?n=br(t.executionSummary,e):o.push("Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:r,details:n,hints:o}}function na(t,e){let r=`Property failed after ${t.numRuns} tests
{ seed: ${t.seed}, path: "${t.counterexamplePath}", endOnFailure: true }
Counterexample: ${e(t.counterexample)}
Shrunk ${t.numShrinks} time(s)
Got error: ${t.error}`,n=null,o=[];return t.verbose>=I.VeryVerbose?n=br(t.executionSummary,e):t.verbose===I.Verbose?n=ta(t.failures,e):o.push("Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:r,details:n,hints:o}}function oa(t,e){let r=`Property interrupted after ${t.numRuns} tests
{ seed: ${t.seed} }`,n=null,o=[];return t.verbose>=I.VeryVerbose?n=br(t.executionSummary,e):o.push("Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:r,details:n,hints:o}}function gr(t,e){if(!t.failed)return;let{message:r,details:n,hints:o}=t.counterexamplePath===null?t.interrupted?oa(t,e):ra(t,e):na(t,e),i=r;return n!=null&&(i+=`

${n}`),o.length>0&&(i+=`

${ea(o)}`),i}function ho(t){return gr(t,M)}async function xo(t){let e=[];function r(s){let a=po(s);return typeof a=="string"?a:(e.push(Promise.all([s,a])),"\u2026")}let n=gr(t,r);if(e.length===0)return n;let o=new Map(await Promise.all(e));function i(s){let a=o.get(s);return a!==void 0?a:M(s)}return gr(t,i)}function ia(t){if(t.failed)throw new Error(ho(t))}async function sa(t){if(t.failed)throw new Error(await xo(t))}function go(t){return t.runConfiguration.asyncReporter?t.runConfiguration.asyncReporter(t):t.runConfiguration.reporter?t.runConfiguration.reporter(t):ia(t)}async function bo(t){return t.runConfiguration.asyncReporter?t.runConfiguration.asyncReporter(t):t.runConfiguration.reporter?t.runConfiguration.reporter(t):sa(t)}function aa(t,e,r,n){let o=new He(e,r,n);for(let i of o){let s=t.run(i);o.handleResult(s)}return o.runExecution}async function ua(t,e,r,n){let o=new He(e,r,n);for(let i of o){let s=await t.run(i);o.handleResult(s)}return o.runExecution}function ca(t,e){let r=e.split(":"),n=P(t).drop(r.length>0?+r[0]:0).map(i=>i()),o=["0",...r.slice(1)].join(":");return P(xr(o,n)).map(i=>()=>i)}function fa(t,e){let r=e.path.length===0?P(t):ca(t,e.path);return e.endOnFailure?r.map(n=>()=>{let o=n();return new C(o.value_)}):r}function yo(t,e){if(t==null||t.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(t.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");let r=_.read(Object.assign(Object.assign({},pe()),e));if(r.reporter!==null&&r.asyncReporter!==null)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(r.asyncReporter!==null&&!t.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");let n=mo(t,r),o=dr(n,r.seed,r.randomType,r.examples),i=r.path.indexOf(":")===-1?r.numRuns:-1,s=r.numRuns*r.maxSkipsPerRun,a=fa(o,r),u=new vt(a,i,s);return n.isAsync()?ua(n,u,r.verbose,r.markInterruptAsFailure).then(c=>c.toRunDetails(r.seed,r.path,s,r)):aa(n,u,r.verbose,r.markInterruptAsFailure).toRunDetails(r.seed,r.path,s,r)}function yr(t,e){let r=yo(t,e);if(t.isAsync())return r.then(bo);go(r)}function wo(t){return Math.floor(Math.log(t)/Math.log(2))}function So(t){return t===BigInt(0)?BigInt(0):BigInt(t.toString().length)}function Ct(t,e,r){if(t===e)return[{min:t,max:e}];if(t<0&&e>0){let s=r(-t),a=r(e);return[{min:-s,max:a},{min:e-a,max:e},{min:t,max:t+s}]}let n=r(e-t),o={min:t,max:t+n},i={min:e-n,max:e};return t<0?[i,o]:[o,i]}function To(t){return Math.floor(t/2)}function ko(t){return Math.ceil(t/2)}function wr(t,e,r){let n=t-e;function*o(){let s=r?void 0:e,a=r?n:To(n);for(let u=a;u>0;u=To(u)){let c=u===n?e:t-u;yield new f(c,s),s=c}}function*i(){let s=r?void 0:e,a=r?n:ko(n);for(let u=a;u<0;u=ko(u)){let c=u===n?e:t-u;yield new f(c,s),s=c}}return n>0?P(o()):P(i())}var re=class t extends b{constructor(e,r){super(),this.min=e,this.max=r}generate(e,r){let n=this.computeGenerateRange(e,r);return new f(e.nextInt(n.min,n.max),void 0)}canShrinkWithoutContext(e){return typeof e=="number"&&Number.isInteger(e)&&!Object.is(e,-0)&&this.min<=e&&e<=this.max}shrink(e,r){if(!t.isValidContext(e,r)){let n=this.defaultTarget();return wr(e,n,!0)}return this.isLastChanceTry(e,r)?h.of(new f(r,void 0)):wr(e,r,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(e,r){if(r===void 0||e.nextInt(1,r)!==1)return{min:this.min,max:this.max};let n=Ct(this.min,this.max,wo);if(n.length===1)return n[0];let o=e.nextInt(-2*(n.length-1),n.length-2);return o<0?n[0]:n[o+1]}isLastChanceTry(e,r){return e>0?e===r+1&&e>this.min:e<0?e===r-1&&e<this.max:!1}static isValidContext(e,r){if(r===void 0)return!1;if(typeof r!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(r!==0&&Math.sign(e)!==Math.sign(r))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}};function pa(t){let e=t.min!==void 0?t.min:-2147483648,r=t.max!==void 0?t.max:2147483647;return{min:e,max:r}}function la(t){if(t[0]===void 0)return{};if(t[1]===void 0){let r=t;return typeof r[0]=="number"?{max:r[0]}:r[0]}let e=t;return{min:e[0],max:e[1]}}function d(...t){let e=pa(la(t));if(e.min>e.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");let r=new re(e.min,e.max);return F(r,r.defaultTarget())}var Sr=class{constructor(e){this.producer=e}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}};function Je(t){return new Sr(t)}function ma(t,e,r){for(let n=0;n<e;++n)if(r(t[n]))return!0;return!1}function ha(t,e,r){let n=t[e];t[e]=t[r],t[r]=n}function Io(t){return e=>{let r=e.length;for(let n=e.length-1;n!==-1;--n)ma(e,n,o=>t(o.value_,e[n].value_))&&(--r,ha(e,n,r));return e.slice(0,r)}}var ne=class t extends b{constructor(e,r,n,o){super(),this.arb=e,this.minLength=r,this.maxLength=n,this.isEqual=o,this.lengthArb=m(d(r,n)),this.preFilter=this.isEqual!==void 0?Io(this.isEqual):i=>i}static makeItCloneable(e,r){return e[w]=()=>{let n=[];for(let o=0;o!==r.length;++o)n.push(r[o].value);return this.makeItCloneable(n,r),n},e}static canAppendItem(e,r,n){for(let o=0;o!==e.length;++o)if(n(e[o].value_,r.value_))return!1;return!0}generateNItemsNoDuplicates(e,r,n){let o=0,i=[];for(;i.length<e&&o<this.maxLength;){let s=this.arb.generate(r,n);this.isEqual===void 0||t.canAppendItem(i,s,this.isEqual)?(o=0,i.push(s)):o+=1}return i}generateNItems(e,r,n){let o=[];for(let i=0;i!==e;++i){let s=this.arb.generate(r,n);o.push(s)}return o}wrapper(e,r,n){let o=r?this.preFilter(e):e,i=!1,s=[],a=[];for(let c=0;c!==o.length;++c){let l=o[c];i=i||l.hasToBeCloned,s.push(l.value),a.push(l.context)}i&&t.makeItCloneable(s,o);let u={shrunkOnce:r,lengthContext:e.length===o.length&&n!==void 0?n:void 0,itemsContexts:a};return new f(s,u)}generate(e,r){let n=this.applyBias(e,r),o=n.size,i=this.isEqual!==void 0?this.generateNItemsNoDuplicates(o,e,n.biasFactorItems):this.generateNItems(o,e,n.biasFactorItems);return this.wrapper(i,!1,void 0)}applyBias(e,r){if(r===void 0||e.nextInt(1,r)!==1)return{size:this.lengthArb.generate(e,void 0).value};if(e.nextInt(1,r)!==1||this.minLength===this.maxLength)return{size:this.lengthArb.generate(e,void 0).value,biasFactorItems:r};let n=this.minLength+Math.floor(Math.log(this.maxLength-this.minLength)/Math.log(2));return{size:m(d(this.minLength,n)).generate(e,void 0).value,biasFactorItems:r}}canShrinkWithoutContext(e){if(!Array.isArray(e)||this.minLength>e.length||e.length>this.maxLength)return!1;for(let n=0;n!==e.length;++n)if(!(n in e)||!this.arb.canShrinkWithoutContext(e[n]))return!1;return this.preFilter(e.map(n=>new f(n,void 0))).length===e.length}shrinkImpl(e,r){if(e.length===0)return h.nil();let n=r!==void 0?r:{shrunkOnce:!1,lengthContext:void 0,itemsContexts:[]};return this.lengthArb.shrink(e.length,n.lengthContext).drop(n.shrunkOnce&&n.lengthContext===void 0&&e.length>this.minLength+1?1:0).map(o=>{let i=e.length-o.value;return[e.slice(i).map((s,a)=>new f(ge(s),n.itemsContexts[a+i])),o.context]}).join(this.arb.shrink(e[0],n.itemsContexts[0]).map(o=>[[o].concat(e.slice(1).map((i,s)=>new f(ge(i),n.itemsContexts[s+1]))),void 0])).join(e.length>this.minLength?Je(()=>this.shrinkImpl(e.slice(1),{shrunkOnce:!1,lengthContext:void 0,itemsContexts:n.itemsContexts.slice(1)}).filter(o=>this.minLength<=o[0].length+1).map(o=>[[new f(ge(e[0]),n.itemsContexts[0])].concat(o[0]),void 0])):h.nil())}shrink(e,r){return this.shrinkImpl(e,r).map(n=>this.wrapper(n[0],!0,n[1]))}};function K(t){return 2*t+10}function k(t,...e){let r=m(t);if(e[0]===void 0)return p(new ne(r,0,K(0)));if(typeof e[0]=="object"){let n=e[0].minLength||0,o=e[0].maxLength,i=o!==void 0?o:K(n);return p(new ne(r,n,i))}return e[1]!==void 0?p(new ne(r,e[0],e[1])):p(new ne(r,0,e[0]))}function Et(t){return t/BigInt(2)}function Tr(t,e,r){let n=t-e;function*o(){let s=r?void 0:e,a=r?n:Et(n);for(let u=a;u>0;u=Et(u)){let c=t-u;yield new f(c,s),s=c}}function*i(){let s=r?void 0:e,a=r?n:Et(n);for(let u=a;u<0;u=Et(u)){let c=t-u;yield new f(c,s),s=c}}return n>0?P(o()):P(i())}var Te=class t extends b{constructor(e,r){super(),this.min=e,this.max=r}generate(e,r){let n=this.computeGenerateRange(e,r);return new f(e.nextBigInt(n.min,n.max),void 0)}computeGenerateRange(e,r){if(r===void 0||e.nextInt(1,r)!==1)return{min:this.min,max:this.max};let n=Ct(this.min,this.max,So);if(n.length===1)return n[0];let o=e.nextInt(-2*(n.length-1),n.length-2);return o<0?n[0]:n[o+1]}canShrinkWithoutContext(e){return typeof e=="bigint"&&this.min<=e&&e<=this.max}shrink(e,r){if(!t.isValidContext(e,r)){let n=this.defaultTarget();return Tr(e,n,!0)}return this.isLastChanceTry(e,r)?h.of(new f(r,void 0)):Tr(e,r,!1)}defaultTarget(){return this.min<=0&&this.max>=0?BigInt(0):this.min<0?this.max:this.min}isLastChanceTry(e,r){return e>0?e===r+BigInt(1)&&e>this.min:e<0?e===r-BigInt(1)&&e<this.max:!1}static isValidContext(e,r){if(r===void 0)return!1;if(typeof r!="bigint")throw new Error("Invalid context type passed to BigIntArbitrary (#1)");let n=e>0&&r<0||e<0&&r>0;if(r!==BigInt(0)&&n)throw new Error("Invalid context value passed to BigIntArbitrary (#2)");return!0}};function da(t){let r=BigInt(-1)<<BigInt(255),n=(BigInt(1)<<BigInt(256-1))-BigInt(1),o=t.min,i=t.max;return{min:o!==void 0?o:r-(i!==void 0&&i<BigInt(0)?i*i:BigInt(0)),max:i!==void 0?i:n+(o!==void 0&&o>BigInt(0)?o*o:BigInt(0))}}function xa(t){return t[0]===void 0?{}:t[1]===void 0?t[0]:{min:t[0],max:t[1]}}function kr(...t){let e=da(xa(t));if(e.min>e.max)throw new Error("fc.bigInt expects max to be greater than or equal to min");let r=new Te(e.min,e.max);return F(r,r.defaultTarget())}function ga(t){return t===1}function ba(t){if(typeof t!="boolean")throw new Error("Unsupported input type");return t===!0?1:0}function Pt(){return p(m(d({min:0,max:1})).map(ga,ba).noBias())}var Ge=class extends b{constructor(e){super(),this.values=e}generate(e,r){let n=this.values.length===1?0:e.nextInt(0,this.values.length-1),o=this.values[n];return G(o)?new f(o,n,()=>o[w]()):new f(o,n)}canShrinkWithoutContext(e){for(let r=0;r!==this.values.length;++r)if(Object.is(this.values[r],e))return!0;return!1}shrink(e,r){return r===0||Object.is(e,this.values[0])?h.nil():h.of(new f(this.values[0],0))}};var No=String.fromCodePoint;function vo(t){if(typeof t!="string")throw new Error("Cannot unmap non-string");if(t.length===0||t.length>2)throw new Error("Cannot unmap string with more or less than one character");let e=t.charCodeAt(0);if(t.length===1)return e;let r=t.charCodeAt(1);if(e<55296||e>56319||r<56320||r>57343)throw new Error("Cannot unmap invalid surrogate pairs");return t.codePointAt(0)}function oe(t,e,r,n){return p(m(d(t,e)).map(o=>No(r(o)),o=>n(vo(o))))}function Ke(t){return t<95?t+32:t<=126?t-95:t}function Ye(t){return t>=32&&t<=126?t-32:t>=0&&t<=31?t+95:t}function Ao(t){return t}function Nr(){return oe(32,126,Ao,Ao)}var vr=57343+1-55296;function ya(t){return t<55296?Ke(t):t+vr}function wa(t){return t<55296?Ye(t):t<=57343?-1:t-vr}function Ot(){return oe(0,1114111-vr,ya,wa)}var Ql=57343+1-55296;function Y(t){return p(new Ge([t]))}var Co=class t{constructor(){this.receivedLogs=[]}log(e){this.receivedLogs.push(e)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[w](){return new t}};function Eo(t){return new Date(t)}function Po(t){if(!(t instanceof Date)||t.constructor!==Date)throw new Error("Not a valid value for date unmapper");return t.getTime()}function Ar(t){let e=t&&t.min!==void 0?t.min.getTime():-864e13,r=t&&t.max!==void 0?t.max.getTime():864e13;if(Number.isNaN(e))throw new Error("fc.date min must be valid instance of Date");if(Number.isNaN(r))throw new Error("fc.date max must be valid instance of Date");if(e>r)throw new Error("fc.date max must be greater or equal to min");return p(m(d(e,r)).map(Eo,Po))}function Ta(t){let e=t.minLength!==void 0?t.minLength:0,r=t.maxLength!==void 0?t.maxLength:K(e),n=t.compare!==void 0?t.compare:(o,i)=>o===i;return{minLength:e,maxLength:r,compare:n}}function ka(t){if(t[0]===void 0)return{};if(t[1]===void 0){let r=t;return typeof r[0]=="number"?{maxLength:r[0]}:typeof r[0]=="function"?{compare:r[0]}:r[0]}if(t[2]===void 0){let r=t;return typeof r[1]=="number"?{minLength:r[0],maxLength:r[1]}:{maxLength:r[0],compare:r[1]}}let e=t;return{minLength:e[0],maxLength:e[1],compare:e[2]}}function ie(t,...e){let r=Ta(ka(e)),n=r.minLength,o=r.maxLength,i=r.compare,s=m(t),a=p(new ne(s,n,o,i));return n===0?a:a.filter(u=>u.length>=n)}function N(...t){let e=t.map(r=>m(r));return p(new Ee(e))}function Cr(t){let e={};for(let r of t)e[r[0]]=r[1];return e}var Oo=new Map;function Fo(t){if(t===void 0)return{depth:0};if(typeof t!="string")return t;let e=Oo.get(t);if(e!==void 0)return e;let r={depth:0};return Oo.set(t,r),r}var se=class t extends b{constructor(e,r,n){super(),this.warbs=e,this.constraints=r,this.context=n;let o=0;this.cumulatedWeights=[];for(let i=0;i!==e.length;++i)o+=e[i].weight,this.cumulatedWeights.push(o);this.totalWeight=o}static fromOld(e,r,n){return p(t.from(e.map(o=>Object.assign(Object.assign({},o),{arbitrary:m(o.arbitrary)})),r,n))}static from(e,r,n){if(e.length===0)throw new Error(`${n} expects at least one weigthed arbitrary`);let o=0;for(let i=0;i!==e.length;++i){if(e[i].arbitrary===void 0)throw new Error(`${n} expects arbitraries to be specified`);let a=e[i].weight;if(o+=a,!Number.isInteger(a))throw new Error(`${n} expects weights to be integer values`);if(a<0)throw new Error(`${n} expects weights to be superior or equal to 0`)}if(o<=0)throw new Error(`${n} expects the sum of weights to be strictly superior to 0`);return new t(e,r,Fo(r.depthIdentifier))}generate(e,r){if(this.mustGenerateFirst())return this.safeGenerateForIndex(e,0,r);let n=e.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let o=0;o!==this.cumulatedWeights.length;++o)if(n<this.cumulatedWeights[o])return this.safeGenerateForIndex(e,o,r);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(e){return this.canShrinkWithoutContextIndex(e)!==-1}shrink(e,r){if(r!==void 0){let o=r,i=o.selectedIndex,s=o.originalBias,u=this.warbs[i].arbitrary.shrink(e,o.originalContext).map(c=>this.mapIntoNextValue(i,c,null,s));if(o.clonedMrngForFallbackFirst!==null){o.cachedGeneratedForFirst===void 0&&(o.cachedGeneratedForFirst=this.safeGenerateForIndex(o.clonedMrngForFallbackFirst,0,s));let c=o.cachedGeneratedForFirst;return h.of(c).join(u)}return u}let n=this.canShrinkWithoutContextIndex(e);return n===-1?h.nil():this.defaultShrinkForFirst(n).join(this.warbs[n].arbitrary.shrink(e,void 0).map(o=>this.mapIntoNextValue(n,o,null,void 0)))}defaultShrinkForFirst(e){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(e)||this.warbs[0].fallbackValue===void 0)return h.nil()}finally{--this.context.depth}let r=new f(this.warbs[0].fallbackValue.default,void 0);return h.of(this.mapIntoNextValue(0,r,null,void 0))}canShrinkWithoutContextIndex(e){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(e)?0:-1;try{++this.context.depth;for(let r=0;r!==this.warbs.length;++r){let n=this.warbs[r];if(n.weight!==0&&n.arbitrary.canShrinkWithoutContext(e))return r}return-1}finally{--this.context.depth}}mapIntoNextValue(e,r,n,o){let i={selectedIndex:e,originalBias:o,originalContext:r.context,clonedMrngForFallbackFirst:n};return new f(r.value,i)}safeGenerateForIndex(e,r,n){++this.context.depth;try{let o=this.warbs[r].arbitrary.generate(e,n),i=this.mustFallbackToFirstInShrink(r)?e.clone():null;return this.mapIntoNextValue(r,o,i,n)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth!==void 0&&this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(e){return e!==0&&!!this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){let e=this.constraints.depthFactor;if(e===void 0||e<=0)return 0;let r=Math.floor(Math.pow(1+e,this.context.depth))-1;return-Math.min(this.warbs[0].weight*r,Number.MAX_SAFE_INTEGER)||0}};function Ia(t){return t!=null&&typeof t=="object"&&!("arbitrary"in t)}function Xe(...t){let e="fc.frequency",r=t[0];return Ia(r)?se.fromOld(t.slice(1),r,e):se.fromOld(t,{},e)}function X(t){let e=typeof t=="number"?t:t&&t.max!==void 0?t.max:2147483647;if(e<0)throw new Error("fc.nat value should be greater than or equal to 0");let r=new re(0,e);return F(r,r.defaultTarget())}var ah=Ot().map(t=>{let e=encodeURIComponent(t);return t!==e?e:`%${t.charCodeAt(0).toString(16)}`});function ae(t){return t[0]!==void 0?typeof t[0]=="number"?typeof t[1]=="number"?{minLength:t[0],maxLength:t[1]}:{maxLength:t[0]}:t[0]:{}}var Or={sign:1,data:[0,0]},Fe={sign:1,data:[0,1]};function ue(t){return t.data[0]===0&&t.data[1]===0}function Qe(t){return t.sign===-1&&!ue(t)}function Me(t){return t.sign===1&&!ue(t)}function me(t,e){return t.data[0]===e.data[0]&&t.data[1]===e.data[1]?t.sign===e.sign||t.data[0]===0&&t.data[1]===0:!1}function jo(t,e){return t[0]<e[0]||t[0]===e[0]&&t[1]<e[1]}function he(t,e){return t.sign===e.sign?t.sign===1?jo(t.data,e.data):jo(e.data,t.data):t.sign===-1&&(!ue(t)||!ue(e))}function Ze(t){return{sign:t.sign,data:[t.data[0],t.data[1]]}}function Lo(t,e){let r=0,n=t[1]-e[1];return n<0&&(r=1,n=n>>>0),[t[0]-e[0]-r,n]}function $o(t,e){if(t.sign===1&&e.sign===-1){let r=t.data[1]+e.data[1];return{sign:1,data:[t.data[0]+e.data[0]+(r>4294967295?1:0)>>>0,r>>>0]}}return{sign:1,data:t.sign===1?Lo(t.data,e.data):Lo(e.data,t.data)}}function q(t,e){if(he(t,e)){let r=$o(e,t);return r.sign=-1,r}return $o(t,e)}function Ca(t){return{sign:-t.sign,data:[t.data[0],t.data[1]]}}function et(t,e){return ue(e)?ue(t)?Ze(Or):Ze(t):q(t,Ca(e))}function Fr(t){return{sign:t.sign,data:[Math.floor(t.data[0]/2),(t.data[0]%2===1?2147483648:0)+Math.floor(t.data[1]/2)]}}function Ft(t){return{sign:t.sign,data:[0,Math.floor(Math.log(t.data[0]*4294967296+t.data[1])/Math.log(2))]}}var Mr=class t extends b{constructor(e,r){super(),this.min=e,this.max=r,this.biasedRanges=null}generate(e,r){let n=this.computeGenerateRange(e,r),o=e.nextArrayInt(n.min,n.max);return o.data.length===1&&o.data.unshift(0),new f(o,void 0)}computeGenerateRange(e,r){if(r===void 0||e.nextInt(1,r)!==1)return{min:this.min,max:this.max};let n=this.retrieveBiasedRanges();if(n.length===1)return n[0];let o=e.nextInt(-2*(n.length-1),n.length-2);return o<0?n[0]:n[o+1]}canShrinkWithoutContext(e){let r=e;return typeof e=="object"&&e!==null&&(r.sign===-1||r.sign===1)&&Array.isArray(r.data)&&r.data.length===2&&(he(this.min,r)&&he(r,this.max)||me(this.min,r)||me(this.max,r))}shrinkArrayInt64(e,r,n){let o=q(e,r);function*i(){let s=n?void 0:r,a=n?o:Fr(o);for(let u=a;!ue(u);u=Fr(u)){let c=q(e,u);yield new f(c,s),s=c}}return P(i())}shrink(e,r){if(!t.isValidContext(e,r)){let n=this.defaultTarget();return this.shrinkArrayInt64(e,n,!0)}return this.isLastChanceTry(e,r)?h.of(new f(r,void 0)):this.shrinkArrayInt64(e,r,!1)}defaultTarget(){return!Me(this.min)&&!Qe(this.max)?Or:Qe(this.min)?this.max:this.min}isLastChanceTry(e,r){return ue(e)?!1:e.sign===1?me(e,et(r,Fe))&&Me(q(e,this.min)):me(e,q(r,Fe))&&Qe(q(e,this.max))}static isValidContext(e,r){if(r===void 0)return!1;if(typeof r!="object"||r===null||!("sign"in r)||!("data"in r))throw new Error("Invalid context type passed to ArrayInt64Arbitrary (#1)");return!0}retrieveBiasedRanges(){if(this.biasedRanges!=null)return this.biasedRanges;if(me(this.min,this.max))return this.biasedRanges=[{min:this.min,max:this.max}],this.biasedRanges;let e=Qe(this.min),r=Me(this.max);if(e&&r){let n=Ft(this.min),o=Ft(this.max);this.biasedRanges=[{min:n,max:o},{min:q(this.max,o),max:this.max},{min:this.min,max:q(this.min,n)}]}else{let n=Ft(q(this.max,this.min)),o={min:this.min,max:et(this.min,n)},i={min:q(this.max,n),max:this.max};this.biasedRanges=e?[i,o]:[o,i]}return this.biasedRanges}};function jr(t,e){let r=new Mr(t,e);return F(r,r.defaultTarget())}var Vo={sign:1,data:[2146435072,0]},Ea={sign:-1,data:[2146435072,1]};function Pa(t){let e=2-Number.EPSILON;for(let r=-1022;r!==1024;++r){let n=2**r,o=e*n;if(Math.abs(t)<=o)return{exponent:r,significand:t/n}}return{exponent:Number.NaN,significand:Number.NaN}}function Bo(t){return[~~(t/4294967296),t>>>0]}function Ro(t,e){if(t===-1022){let i=e*4503599627370496;return Bo(i)}let r=(e-1)*2**52,n=(t+1023)*2**20,o=Bo(r);return o[0]+=n,o}function Oa(t){if(t===Number.POSITIVE_INFINITY)return Ze(Vo);if(t===Number.NEGATIVE_INFINITY)return Ze(Ea);let e=Pa(t),r=e.exponent,n=e.significand;if(t>0||t===0&&1/t===Number.POSITIVE_INFINITY)return{sign:1,data:Ro(r,n)};{let o=Ro(r,-n);return o[1]===4294967295?(o[0]+=1,o[1]=0):o[1]+=1,{sign:-1,data:o}}}function Lr(t){if(t.sign===-1){let o={sign:1,data:[t.data[0],t.data[1]]};return o.data[1]===0?(o.data[0]-=1,o.data[1]=4294967295):o.data[1]-=1,-Lr(o)}if(me(t,Vo))return Number.POSITIVE_INFINITY;if(t.data[0]<2097152)return(t.data[0]*4294967296+t.data[1])*2**-1074;let e=t.data[0]-2097152,r=-1021+(e>>20);return(1+((e&1048575)*2**32+t.data[1])*Number.EPSILON)*2**r}function Uo(t,e){if(Number.isNaN(t))throw new Error("fc.doubleNext constraints."+e+" must be a 32-bit float");return Oa(t)}function Do(t={}){let{noDefaultInfinity:e=!1,noNaN:r=!1,min:n=e?-Number.MAX_VALUE:Number.NEGATIVE_INFINITY,max:o=e?Number.MAX_VALUE:Number.POSITIVE_INFINITY}=t,i=Uo(n,"min"),s=Uo(o,"max");if(he(s,i))throw new Error("fc.doubleNext constraints.min must be smaller or equal to constraints.max");if(r)return jr(i,s).map(Lr);let a=Me(s),u=a?i:q(i,Fe),c=a?et(s,Fe):s;return jr(u,c).map(l=>he(s,l)||he(l,i)?Number.NaN:Lr(l))}var Hh=2**-126*2**-23,Mt=2**127*(1+(2**23-1)/2**23),Jh=2**-23,_o=2139095040,Fa=-2139095041;function Ma(t){let e=1.9999998807907104;for(let r=-126;r!==128;++r){let n=2**r,o=e*n;if(Math.abs(t)<=o)return{exponent:r,significand:t/n}}return{exponent:Number.NaN,significand:Number.NaN}}function qo(t,e){return t===-126?e*8388608:(t+127)*8388608+(e-1)*8388608}function ja(t){if(t===Number.POSITIVE_INFINITY)return _o;if(t===Number.NEGATIVE_INFINITY)return Fa;let e=Ma(t),r=e.exponent,n=e.significand;return Number.isNaN(r)||Number.isNaN(n)||!Number.isInteger(n*8388608)?Number.NaN:t>0||t===0&&1/t===Number.POSITIVE_INFINITY?qo(r,n):-qo(r,-n)-1}function $r(t){if(t<0)return-$r(-t-1);if(t===_o)return Number.POSITIVE_INFINITY;if(t<16777216)return t*2**-149;let e=t-16777216,r=-125+(e>>23);return(1+(e&8388607)/8388608)*2**r}function Wo(t,e){let r="you can convert any double to a 32-bit float by using `new Float32Array([myDouble])[0]`",n="fc.floatNext constraints."+e+" must be a 32-bit float - "+r;if(Number.isNaN(t)||Number.isFinite(t)&&(t<-Mt||t>Mt))throw new Error(n);let o=ja(t);if(!Number.isInteger(o))throw new Error(n);return o}function zo(t={}){let{noDefaultInfinity:e=!1,noNaN:r=!1,min:n=e?-Mt:Number.NEGATIVE_INFINITY,max:o=e?Mt:Number.POSITIVE_INFINITY}=t,i=Wo(n,"min"),s=Wo(o,"max");if(i>s)throw new Error("fc.floatNext constraints.min must be smaller or equal to constraints.max");if(r)return d({min:i,max:s}).map($r);let a=s>0?i:i-1,u=s>0?s+1:s;return d({min:a,max:u}).map(c=>c>s||c<i?Number.NaN:$r(c))}function Br(t){return d(0,(1<<t)-1)}var jt=()=>Br(24).map(t=>t/(1<<24));function Rr(...t){if(typeof t[0]=="object"){if(t[0].next)return zo(t[0]);let e=t[0].min!==void 0?t[0].min:0,r=t[0].max!==void 0?t[0].max:1;return jt().map(n=>e+n*(r-e)).filter(n=>n!==r||n===e)}else{let e=t[0],r=t[1];return e===void 0?jt():r===void 0?jt().map(n=>n*e).filter(n=>n!==e||n===0):jt().map(n=>e+n*(r-e)).filter(n=>n!==r||n===e)}}var La=Math.pow(2,27),$a=Math.pow(2,-53),Lt=()=>N(Br(26),Br(27)).map(t=>(t[0]*La+t[1])*$a);function je(...t){if(typeof t[0]=="object"){if(t[0].next)return Do(t[0]);let e=t[0].min!==void 0?t[0].min:0,r=t[0].max!==void 0?t[0].max:1;return Lt().map(n=>e+n*(r-e)).filter(n=>n!==r||n===e)}else{let e=t[0],r=t[1];return e===void 0?Lt():r===void 0?Lt().map(n=>n*e).filter(n=>n!==e||n===0):Lt().map(n=>e+n*(r-e)).filter(n=>n!==r||n===e)}}function Ho(t){return t.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}function $t(){let t=new re(Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER);return F(t,t.defaultTarget())}function Ua(t){return t!=null&&typeof t=="object"&&!("generate"in t)}function v(...t){let e=t[0];if(Ua(e)){let n=t.slice(1).map(o=>({arbitrary:o,weight:1}));return se.fromOld(n,e,"fc.oneof")}let r=t.map(n=>({arbitrary:n,weight:1}));return se.fromOld(r,{},"fc.oneof")}function ke(t){return t.join("")}function Ie(t){if(typeof t!="string")throw new Error("Cannot unmap the passed value");return[...t]}var Bt=10;function ce(t){let e={};return r=>{let n=r!==void 0?r:Bt;if(!Object.prototype.hasOwnProperty.call(e,n)){let o=Bt;Bt=n-1,e[n]=t(n),Bt=o}return e[n]}}function Le(...t){let e=ae(t);return p(m(k(Nr(),e)).map(ke,Ie))}function Ur(t={}){return k(Rr(Object.assign(Object.assign({},t),{next:!0})),t).map(e=>Float32Array.from(e))}function Vr(t={}){return k(je(Object.assign(Object.assign({},t),{next:!0})),t).map(e=>Float64Array.from(e))}var _a=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var o=0,n=Object.getOwnPropertySymbols(t);o<n.length;o++)e.indexOf(n[o])<0&&Object.prototype.propertyIsEnumerable.call(t,n[o])&&(r[n[o]]=t[n[o]]);return r};function $(t,e,r,n,o){let i=n.name,{min:s=e,max:a=r}=t,u=_a(t,["min","max"]);if(s>a)throw new Error(`Invalid range passed to ${i}: min must be lower than or equal to max`);if(s<e)throw new Error(`Invalid min value passed to ${i}: min must be greater than or equal to ${e}`);if(a>r)throw new Error(`Invalid max value passed to ${i}: max must be lower than or equal to ${r}`);return k(o({min:s,max:a}),u).map(c=>n.from(c))}function Dr(t={}){return $(t,-32768,32767,Int16Array,d)}function qr(t={}){return $(t,-2147483648,2147483647,Int32Array,d)}function Wr(t={}){return $(t,-128,127,Int8Array,d)}function _r(t={}){return $(t,0,65535,Uint16Array,d)}function zr(t={}){return $(t,0,4294967295,Uint32Array,d)}function Hr(t={}){return $(t,0,255,Uint8Array,d)}function Jr(t={}){return $(t,0,255,Uint8ClampedArray,d)}function Yo(t){let e=-1;for(let r=0;r!==t.length;++r)e=Math.max(e,t[r][0]);return e}function Xo(t,e){let r=Array(t);for(let n=0;n!==e.length;++n){let o=e[n];o[0]<t&&(r[o[0]]=o[1])}return r}function Gr(t,e={}){let{minNumElements:r=0,maxNumElements:n=K(r),maxLength:o=Math.min(K(n),4294967295),noTrailingHole:i}=e;if(r>o)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal length of the array");if(r>n)throw new Error("The minimal number of non-hole elements cannot be higher than the maximal number of non-holes");let s=Math.min(n,o);if(i){let a=Math.max(o-1,0);return ie(N(X(a),t),{minLength:r,maxLength:s,compare:(u,c)=>u[0]===c[0]}).map(u=>{let c=Yo(u);return Xo(c+1,u)})}return ie(N(X(o),t),{minLength:r+1,maxLength:s+1,compare:(a,u)=>a[0]===u[0]}).map(a=>{let u=Yo(a);return Xo(u,a)})}function Ja(t){return t.map(e=>{switch(typeof e){case"boolean":return new Boolean(e);case"number":return new Number(e);case"string":return new String(e);default:return e}})}var Kr=class t{constructor(e,r,n,o,i,s,a,u,c,l,g,S){this.key=e,this.values=r,this.maxDepth=n,this.maxKeys=o,this.withSet=i,this.withMap=s,this.withObjectString=a,this.withNullPrototype=u,this.withBigInt=c,this.withDate=l,this.withTypedArray=g,this.withSparseArray=S}static defaultValues(){return[Pt(),$t(),je({next:!0}),Le(),v(Le(),Y(null),Y(void 0))]}static boxArbitraries(e){return e.map(r=>Ja(r))}static boxArbitrariesIfNeeded(e,r){return r?t.boxArbitraries(e).concat(e):e}static from(e={}){function r(n,o){return n!==void 0?n:o}return new t(r(e.key,Le()),t.boxArbitrariesIfNeeded(r(e.values,t.defaultValues()),r(e.withBoxedValues,!1)),r(e.maxDepth,2),r(e.maxKeys,5),r(e.withSet,!1),r(e.withMap,!1),r(e.withObjectString,!1),r(e.withNullPrototype,!1),r(e.withBigInt,!1),r(e.withDate,!1),r(e.withTypedArray,!1),r(e.withSparseArray,!1))}},Ga=t=>{let e=t.withObjectString?ce(x=>Xe({arbitrary:t.key,weight:10},{arbitrary:H(x).map(A=>M(A)),weight:1})):ce(()=>t.key),r=t.values,n=t.maxDepth,o=t.maxKeys,i=(x,A)=>ie(N(x,A),{maxLength:o,compare:($e,ti)=>$e[0]===ti[0]}),s=(x,A)=>i(x,A).map($e=>new Map($e)),a=(x,A)=>i(x,A).map($e=>Cr($e)),u=v(...r),c=v(...r.map(x=>k(x,{maxLength:o}))),l=x=>v(...r.map(A=>a(e(x),A))),g=()=>v(...r.map(x=>ie(x,{maxLength:o}).map(A=>new Set(A)))),S=x=>v(...r.map(A=>s(e(x),A))),j=ce(x=>v(c,k(H(x),{maxLength:o}))),Ne=ce(x=>v(g(),ie(H(x),{maxLength:o}).map(A=>new Set(A)))),tt=ce(x=>v(S(x),v(s(e(x),H(x)),s(H(x),H(x))))),de=ce(x=>v(l(x),a(e(x),H(x)))),H=ce(x=>x<=0?v(u):v(u,j(),de(),...t.withMap?[tt()]:[],...t.withSet?[Ne()]:[],...t.withObjectString?[H().map(A=>M(A))]:[],...t.withNullPrototype?[de().map(A=>Object.assign(Object.create(null),A))]:[],...t.withBigInt?[kr()]:[],...t.withDate?[Ar()]:[],...t.withTypedArray?[v(Wr(),Hr(),Jr(),Dr(),_r(),qr(),zr(),Ur(),Vr())]:[],...t.withSparseArray?[Gr(H())]:[]));return H(n)};function Zo(t){return Ga(Kr.from(t))}function Ka(t,e){let r=t,n=[Pt(),$t(),je({next:!0,noDefaultInfinity:!0,noNaN:!0}),t,Y(null)];return e!=null?typeof e=="number"?{key:r,values:n,maxDepth:e}:{key:r,values:n,maxDepth:e.maxDepth}:{key:r,values:n}}function Yr(t){return Zo(Ka(Le(),t))}function Xr(t){return(t!=null?Yr(t):Yr()).map(JSON.stringify)}var Og=Symbol("no-key");var Zr=class t{constructor(e,r){this.commands=e,this.metadataForReplay=r}[Symbol.iterator](){return this.commands[Symbol.iterator]()}[w](){return new t(this.commands.map(e=>e.clone()),this.metadataForReplay)}toString(){let e=this.commands.filter(n=>n.hasRan).map(n=>n.toString()).join(","),r=this.metadataForReplay();return r.length!==0?`${e} /*${r}*/`:e}};var Rt=class t{constructor(e,r){this.act=e,this.taskSelector=r,this.lastTaskId=0,this.sourceTaskSelector=r.clone(),this.scheduledTasks=[],this.triggeredTasks=[]}static buildLog(e){return`[task\${${e.taskId}}] ${e.label.length!==0?`${e.schedulingType}::${e.label}`:e.schedulingType} ${e.status}${e.outputValue!==void 0?` with value ${Ho(e.outputValue)}`:""}`}log(e,r,n,o,i,s){this.triggeredTasks.push({status:i,schedulingType:e,taskId:r,label:n,metadata:o,outputValue:s!==void 0?M(s):void 0})}scheduleInternal(e,r,n,o,i){let s=null,a=++this.lastTaskId,u=new Promise((c,l)=>{s=()=>{(i?n.then(()=>i()):n).then(g=>(this.log(e,a,r,o,"resolved",g),c(g)),g=>(this.log(e,a,r,o,"rejected",g),l(g)))}});return this.scheduledTasks.push({original:n,scheduled:u,trigger:s,schedulingType:e,taskId:a,label:r,metadata:o}),u}schedule(e,r,n){return this.scheduleInternal("promise",r||"",e,n)}scheduleFunction(e){return(...r)=>this.scheduleInternal("function",`${e.name}(${r.map(M).join(",")})`,e(...r),void 0)}scheduleSequence(e){let r={done:!1,faulty:!1},n={then:s=>s()},o=()=>{},i=new Promise(s=>o=s);return e.reduce((s,a)=>{let[u,c,l]=typeof a=="function"?[a,a.name,void 0]:[a.builder,a.label,a.metadata];return s.then(()=>{let g=this.scheduleInternal("sequence",c,n,l,()=>u());return g.catch(()=>{r.faulty=!0,o()}),g})},n).then(()=>{r.done=!0,o()},()=>{}),Object.assign(r,{task:Promise.resolve(i).then(()=>({done:r.done,faulty:r.faulty}))})}count(){return this.scheduledTasks.length}async internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");let e=this.taskSelector.nextTaskIndex(this.scheduledTasks),[r]=this.scheduledTasks.splice(e,1);r.trigger();try{await r.scheduled}catch{}}async waitOne(){await this.act(async()=>await this.internalWaitOne())}async waitAll(){for(;this.scheduledTasks.length>0;)await this.waitOne()}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(e=>({status:"pending",schedulingType:e.schedulingType,taskId:e.taskId,label:e.label,metadata:e.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(t.buildLog).map(e=>`-> ${e}`).join(`
`)+"`"}[w](){return new t(this.act,this.sourceTaskSelector)}};(0,Qo.test)("Test arbitrary JSON data",async t=>yr(gt(Xr(),e=>{let r=JSON.parse(e),n=ht(e);t.deepEqual(n,r,JSON.stringify(n)+" should be deep equal to "+JSON.stringify(r))})));var Qr=class extends ei.StyledElement{constructor(){super("run-json-tests");this.body.classList.add("json-editor"),this.textarea=document.createElement("textarea"),this.textarea.cols=40,this.textarea.rows=10,this.textarea.spellcheck=!1,this.result=document.createElement("div"),this.result.classList.add("result"),this.body.append(this.textarea,this.result)}connect(){this.textarea.addEventListener("input",r=>{try{this.result.innerText=JSON.stringify(ht(this.textarea.value),void 0,2)}catch(n){if(n instanceof fe)this.result.innerText=n.message;else throw n}})}};customElements.define("json-parser",Qr);})();
