"use strict";(()=>{var va=Object.create;var ir=Object.defineProperty;var Na=Object.getOwnPropertyDescriptor;var Aa=Object.getOwnPropertyNames;var Ea=Object.getPrototypeOf,Ca=Object.prototype.hasOwnProperty;var c=(n,r)=>()=>(n&&(r=n(n=0)),r);var Ce=(n,r)=>()=>(r||n((r={exports:{}}).exports,r),r.exports),Pa=(n,r)=>{for(var o in r)ir(n,o,{get:r[o],enumerable:!0})},Oa=(n,r,o,s)=>{if(r&&typeof r=="object"||typeof r=="function")for(let a of Aa(r))!Ca.call(n,a)&&a!==o&&ir(n,a,{get:()=>r[a],enumerable:!(s=Na(r,a))||s.enumerable});return n};var yt=(n,r,o)=>(o=n!=null?va(Ea(n)):{},Oa(r||!n||!n.__esModule?ir(o,"default",{value:n,enumerable:!0}):o,n));var fo=Ce(Pe=>{"use strict";Object.defineProperty(Pe,"__esModule",{value:!0});Pe.StyledElement=Pe.CustomElement=void 0;var wt=class extends HTMLElement{constructor(){super(),this.root=this.attachShadow({mode:"open"}),this.connected=!1}connectedCallback(){this.connected||(this.connect(),this.connected=!0)}};Pe.CustomElement=wt;var sr=class extends wt{constructor(r){super();let o=document.createElement("link");o.setAttribute("rel","stylesheet");let s=document.currentScript.src,a=s.substring(0,s.lastIndexOf("/"));o.setAttribute("href",`${a}/${r}.css`),this.root.appendChild(o),this.body=document.createElement("div"),this.root.appendChild(this.body)}};Pe.StyledElement=sr});var lo=Ce(St=>{"use strict";Object.defineProperty(St,"__esModule",{value:!0});St.createReporter=void 0;function po(n){return{name:n,passes:0,fails:0,duration:0,tests:[],assertions:[]}}function Ma(n,r){let o=po(n),s=[o];return async a=>{for await(let u of a)switch(u.type){case"TEST_START":let f=po(u.data.description);s[s.length-1].tests.push(f),s.push(f);break;case"TEST_END":let p=u.data,l=s.pop();l.pass=p.pass,l.passes=p.successCount,l.fails=p.failureCount,l.error=p.error,l.duration=p.executionTime,r(o);break;case"ASSERTION":let m=u.data;s[s.length-1].assertions.push({name:m.description,pass:m.pass});break;case"BAIL_OUT":s[s.length-1].error=u.data,r(o);break}}}St.createReporter=Ma});var $o=Ce(w=>{"use strict";Object.defineProperty(w,"__esModule",{value:!0});var Fa=(n,r)=>({type:"TEST_START",data:n,offset:r}),ja=(n,r)=>({type:"ASSERTION",data:n,offset:r}),$a=(n,r)=>({type:"TEST_END",data:n,offset:r}),La=(n,r)=>({type:"BAIL_OUT",data:n,offset:r}),Ba=n=>r=>Object.defineProperties(r,{skipCount:{get(){return n.skipCount}},failureCount:{get(){return n.failureCount}},successCount:{get(){return n.successCount}},count:{get(){return n.count}}}),Ra=()=>{let n=0,r=0,o=0;return Object.defineProperties({update(s){let{pass:a,skip:u}=s;u?o++:Da(s)?a?n++:r++:(o+=s.skipCount,n+=s.successCount,r+=s.failureCount)}},{successCount:{get(){return n}},failureCount:{get(){return r}},skipCount:{get(){return o}},count:{get(){return o+n+r}}})},go=Object.freeze({offset:0,skip:!1,runOnly:!1}),bo=()=>{},yo={[Symbol.asyncIterator]:async function*(){await this.routine;for(let n of this.assertions){if(n[Symbol.asyncIterator]&&(yield Fa({description:n.description},this.offset),yield*n,n.error!==null)){this.error=n.error,this.pass=!1;return}yield ja(n,this.offset),this.pass=this.pass&&n.pass,this.counter.update(n)}return this.error!==null?yield La(this.error,this.offset):yield $a(this,this.offset)}},wo=(n=yo)=>(r,o,s)=>{let a=Ra(),u=Ba(a),f=!0;return u(Object.create(n,{routine:{value:o},assertions:{value:r},offset:{value:s},counter:{value:a},length:{get(){return r.length}},pass:{enumerable:!0,get(){return f},set(p){f=p}}}))},Ua=wo(),Va=(n,r,{offset:o=0,skip:s=!1,runOnly:a=!1}=go)=>{let u=0,f=null,p=!1,l=[],m=N=>{if(p)throw new Error(`test "${n}" 
tried to collect an assertion after it has run to its completion. 
You might have forgotten to wait for an asynchronous task to complete
------
${r.toString()}
`);l.push(N)},y=s===!0?bo:function(){return r(To(m,o,a))},k=async function(){try{let N=Date.now(),G=await y();return u=Date.now()-N,G}catch(N){f=N}finally{p=!0}}();return Object.defineProperties(Ua(l,k,o),{error:{get(){return f},set(N){f=N}},executionTime:{enumerable:!0,get(){return u}},skip:{value:s},description:{enumerable:!0,value:n}})},mo=function n(r,o){if(r===o)return!0;if(r&&o&&typeof r=="object"&&typeof o=="object"){if(r.constructor!==o.constructor)return!1;var s,a,u;if(Array.isArray(r)){if(s=r.length,s!=o.length)return!1;for(a=s;a--!==0;)if(!n(r[a],o[a]))return!1;return!0}if(r.constructor===RegExp)return r.source===o.source&&r.flags===o.flags;if(r.valueOf!==Object.prototype.valueOf)return r.valueOf()===o.valueOf();if(r.toString!==Object.prototype.toString)return r.toString()===o.toString();if(u=Object.keys(r),s=u.length,s!==Object.keys(o).length)return!1;for(a=s;a--!==0;)if(!Object.prototype.hasOwnProperty.call(o,u[a]))return!1;for(a=s;a--!==0;){var f=u[a];if(!n(r[f],o[f]))return!1}return!0}return r!==r&&o!==o},Da=n=>"operator"in n,So=/zora_spec_fn/,qa=/zora\/dist\/bundle/,Wa=n=>n&&!qa.test(n)&&!n.startsWith("Error")||So.test(n),_a=()=>{let r=(new Error().stack||"").split(`
`).map(a=>a.trim()).filter(Wa),o=r.findIndex(a=>So.test(a));return(o>=1?r[o-1]:r[0]||"N/A").replace(/^at|^@/,"")},ne=n=>function(...r){return this.collect(n(...r))},X=n=>function(...r){return this[n](...r)},za=n=>Object.fromEntries([...Object.keys(ar),"collect"].map(r=>[r,(...o)=>n[r](...o)])),ar={equal:ne((n,r,o="should be equivalent")=>({pass:mo(n,r),actual:n,expected:r,description:o,operator:"equal"})),equals:X("equal"),eq:X("equal"),deepEqual:X("equal"),same:X("equal"),notEqual:ne((n,r,o="should not be equivalent")=>({pass:!mo(n,r),actual:n,expected:r,description:o,operator:"notEqual"})),notEquals:X("notEqual"),notEq:X("notEqual"),notDeepEqual:X("notEqual"),is:ne((n,r,o="should be the same")=>({pass:Object.is(n,r),actual:n,expected:r,description:o,operator:"is"})),isNot:ne((n,r,o="should not be the same")=>({pass:!Object.is(n,r),actual:n,expected:r,description:o,operator:"isNot"})),notSame:X("isNot"),ok:ne((n,r="should be truthy")=>({pass:!!n,actual:n,expected:"truthy value",description:r,operator:"ok"})),truthy:X("ok"),notOk:ne((n,r="should be falsy")=>({pass:!n,actual:n,expected:"falsy value",description:r,operator:"notOk"})),falsy:X("notOk"),fail:ne((n="fail called")=>({pass:!1,actual:"fail called",expected:"fail not called",description:n,operator:"fail"})),throws:ne((n,r,o)=>{let s,a,u;typeof r=="string"&&([r,o]=[o,r]);try{n()}catch(f){s={error:f}}return a=s!==void 0,u=s&&s.error,r instanceof RegExp?(a=r.test(u)||r.test(u&&u.message),u=u&&u.message||u,r=String(r)):typeof r=="function"&&s&&(a=u instanceof r,u=u.constructor),{pass:a,actual:u,expected:r,description:o||"should throw",operator:"throws"}}),doesNotThrow:ne((n,r,o)=>{let s;typeof r=="string"&&([r,o]=[o,r]);try{n()}catch(a){s={error:a}}return{pass:s===void 0,expected:"no thrown error",actual:s&&s.error,operator:"doesNotThrow",description:o||"should not throw"}})},To=(n,r,o=!1)=>{let s=f=>(f.pass||(f.at=_a()),n(f),f),a=(f,p,l)=>{let m=Object.assign({},go,l,{offset:r+1,runOnly:o}),y=Va(f,p,m);return n(y),y.routine},u=(f,p,l)=>a(f,p,Object.assign({},l,{skip:!0}));return{...za(Object.create(ar,{collect:{value:s}})),test(f,p,l={}){return o?u(f,p,l):a(f,p,l)},skip(f,p=bo,l={}){return u(f,p,l)},only(f,p,l={}){return a(f,o===!1?y=>{throw new Error('Can not use "only" method when not in run only mode')}:p,l)}}},Ha=n=>async function*(r){for await(let o of r)yield n(o)},Ga=Ha(n=>(n.offset=0,n)),ko=n=>"operator"in n,Ka=(n,r)=>typeof r=="symbol"?r.toString():r,Ja=({pass:n,description:r,...o})=>o,Io={print(n,r=0){this.log(n.padStart(n.length+r*4))},printYAML(n,r=0){let o=r+.5;this.print("---",o);for(let[s,a]of Object.entries(n))this.print(`${s}: ${JSON.stringify(a,Ka)}`,o+.5);this.print("...",o)},printComment(n,r=0){this.print(`# ${n}`,r)},printBailOut(n){this.print("Bail out! Unhandled error.")},printTestStart(n){let{data:{description:r},offset:o}=n;this.printComment(r,o)},printTestEnd(n){},printAssertion(n){let{data:r,offset:o}=n,{pass:s,description:a}=r,u=s===!0?"ok":"not ok";if(ko(r)){let f=this.nextId();this.print(`${u} ${f} - ${a}`,o),s===!1&&this.printYAML(Ja(r),o)}else if(r.skip){let f=this.nextId();this.print(`${s?"ok":"not ok"} ${f} - ${a} # SKIP`,o)}},printSummary(n){this.print("",0),this.printComment(n.data.pass?"ok":"not ok",0),this.printComment(`success: ${n.data.successCount}`,0),this.printComment(`skipped: ${n.data.skipCount}`,0),this.printComment(`failure: ${n.data.failureCount}`,0)},async report(n){let r=Ga(n),o=null;this.print("TAP version 13");for await(let s of r)switch(o=s,s.type){case"TEST_START":this.printTestStart(s);break;case"ASSERTION":this.printAssertion(s);break;case"BAIL_OUT":throw this.printBailOut(s),s.data}this.print(`1..${o.data.count}`,0),this.printSummary(o)}},Ya=n=>{let r=0;return Object.create(Io,{nextId:{enumerable:!0,value:()=>++r},log:{value:n}})},Xa=({expected:n,pass:r,description:o,actual:s,operator:a,at:u="N/A",...f})=>({wanted:n,found:s,at:u,operator:a,...f}),ho=function*(){let n=0;for(;;)yield++n},Za=()=>{let n=[ho()];return{[Symbol.iterator](){return this},next(){return n[0].next()},fork(){n.unshift(ho())},merge(){n.shift()}}},Qa=Object.assign({},Io,{printTestStart(n){let{data:{description:r},offset:o}=n;this.printComment(`Subtest: ${r}`,o)},printAssertion(n){let{data:r,offset:o}=n,{pass:s,description:a}=r,u=s===!0?"ok":"not ok",f=this.nextId();if(ko(r))this.print(`${u} ${f} - ${a}`,o),s===!1&&this.printYAML(Xa(r),o);else{let p=r.skip===!0?"SKIP":`${r.executionTime}ms`;this.print(`${s?"ok":"not ok"} ${f} - ${a} # ${p}`,n.offset)}},printTestEnd(n){let r=n.data.length,{offset:o}=n;this.print(`1..${r}`,o)}}),eu=n=>{let r=Za();return Object.create(Qa,{nextId:{enumerable:!0,value:()=>r.next().value},report:{enumerable:!0,value:async function(o){this.print("TAP version 13");let s=null;for await(let a of o)switch(s=a,a.type){case"TEST_START":r.fork(),this.printTestStart(a);break;case"ASSERTION":this.printAssertion(a);break;case"TEST_END":r.merge(),this.printTestEnd(a);break;case"BAIL_OUT":throw this.printBailOut(a),a.data}this.printSummary(s)}},log:{value:n}})},vo=n=>(r=console)=>{let o=r.log.bind(r);return async s=>n(o).report(s)},tu=vo(Ya),ru=vo(eu),ur=ru(),cr=tu(),No=({runOnly:n=!1,indent:r=!1}={runOnly:!1,indent:!1})=>{let o=[],u=To(l=>o.push(l),0,n),f=null,p=wo(Object.assign(u,yo,{report:async function(l){return(l||(r?ur:cr))(this)}}));return Object.defineProperties(p(o,Promise.resolve(),0),{error:{get(){return f},set(l){f=l}}})},Ao=n=>typeof process<"u"?process.env[n]==="true":typeof Deno<"u"?Deno.env.get(n)==="true":typeof window<"u"?!!window[n]:!1,I=No({runOnly:Ao("RUN_ONLY")}),Eo=!0,Co=Ao("INDENT"),fr=I.test.bind(I);fr.indent=()=>{console.warn('indent function is deprecated, use "INDENT" configuration flag instead'),Co=!0};var nu=fr,Po=I.skip.bind(I),ou=I.only.bind(I);fr.skip=Po;var Tt=I.equal.bind(I),iu=Tt,su=Tt,au=Tt,kt=I.notEqual.bind(I),uu=kt,cu=kt,fu=kt,Oo=I.is.bind(I),pu=Oo,Mo=I.isNot.bind(I),lu=Mo,Fo=I.ok.bind(I),mu=Fo,jo=I.notOk.bind(I),hu=jo,du=I.fail.bind(I),xu=I.throws.bind(I),gu=I.doesNotThrow.bind(I),bu=(n={})=>(Eo=!1,No(n)),xo=()=>{Eo&&I.report(Co?ur:cr)};typeof window>"u"?setTimeout(xo,0):window.addEventListener("load",xo);w.AssertPrototype=ar;w.createHarness=bu;w.deepEqual=au;w.doesNotThrow=gu;w.eq=su;w.equal=Tt;w.equals=iu;w.fail=du;w.falsy=hu;w.is=Oo;w.isNot=Mo;w.mochaTapLike=ur;w.notDeepEqual=fu;w.notEq=cu;w.notEqual=kt;w.notEquals=uu;w.notOk=jo;w.notSame=lu;w.ok=Fo;w.only=ou;w.same=pu;w.skip=Po;w.tapeTapLike=cr;w.test=nu;w.throws=xu;w.truthy=mu});var pr=Ce(Me=>{"use strict";Object.defineProperty(Me,"__esModule",{value:!0});Me.test=Me.getHarness=void 0;var Lo=$o(),Oe=Lo.createHarness();typeof window>"u"&&setTimeout(wu,0);function yu(){return Oe}Me.getHarness=yu;async function wu(){try{await Oe.report(Lo.mochaTapLike)}catch(n){Oe.pass=!1,n instanceof Error&&(console.error(n.name+" exception thrown: "+n.message),console.error(n.stack))}Oe.pass?console.log("Tests PASSED"):console.log("Tests FAILED"),process.exit(Oe.pass?0:1)}function Su(n,r,o){return Oe.test(n,r,o)}Me.test=Su});var Bo=Ce(vt=>{"use strict";Object.defineProperty(vt,"__esModule",{value:!0});vt.TestRunner=void 0;var Tu=lo(),ku=pr(),It=class extends HTMLElement{constructor(){super(),this.styles=`
        .test-runner {
            font-family: var(--sans-font);
            font-size: 1rem;
            color: black;
        }    
        .test-visualizer {
            overflow: auto;
            max-height: 100vh;
        }
        .test-runner .summary {
            font-weight: bolder;
        }
        .test-runner .summary .count {
            margin-left: 1rem;
        }
        .test-runner pre {
            background-color: #fff0f0;
        }
        summary {
            cursor: pointer;
        }`;let r=this.attachShadow({mode:"open"}),o=new CSSStyleSheet;o.replaceSync(this.styles),r.adoptedStyleSheets=[o],this.body=this.elem("div","test-runner"),r.appendChild(this.body),this.connected=!1}connectedCallback(){if(this.connected)return;this.connected=!0;let r=this.getAttribute("name");this.runTests(r)}runTests(r){ku.getHarness().report(Tu.createReporter(r,o=>{for(;this.body.firstChild;)this.body.firstChild.remove();this.body.appendChild(this.testStatus(o))}))}elem(r,o,s){let a=document.createElement(r);return o&&a.classList.add(o),s&&(a.innerText=s),a}statusIcon(r){return r.pass?"\u2705":"\u274C"}testStyle(r){return r.pass?"#f8fff8":"#fff8f8"}testStatus(r){let o=this.elem("div","test-visualizer");o.style.backgroundColor=this.testStyle(r);let s=this.elem("div","summary",`${this.statusIcon(r)} ${r.name}`);return s.appendChild(this.elem("span","count",`Pass: ${r.passes}`)),s.appendChild(this.elem("span","count",`Fail: ${r.fails}`)),o.appendChild(s),o.appendChild(this.testList(r.tests)),o}testList(r){let o=this.elem("ol","test-list");for(let s=0;s<r.length;s++)o.appendChild(this.test(r[s]));return o}assertion(r){return this.elem("li",void 0,`${this.statusIcon(r)} ${r.name}`)}assertions(r){let o=this.elem("details");o.appendChild(this.elem("summary",void 0,`${r.length} assertions`));let s=this.elem("ol");for(let a=0;a<r.length;a++)s.appendChild(this.assertion(r[a]));return o.appendChild(s),o}test(r){if(r.error)return this.bailedOutTest(r);let o=this.elem("li",void 0,`${this.statusIcon(r)} ${r.name} in ${r.duration}ms`);return r.assertions&&o.appendChild(this.assertions(r.assertions)),r.tests&&o.appendChild(this.testList(r.tests)),o}bailedOutTest(r){let o=this.elem("li");return o.innerHTML=`${this.statusIcon(r)} ${r.name} threw <b>${r.error.name}</b> exception:
            <br/><b>${r.error.message}</b>
            <pre>${r.error.stack}</pre>`,o}};vt.TestRunner=It;customElements.define("test-runner",It)});var Nt,Ro=c(()=>{"use strict";Nt=class{constructor(r){this._target=null;r&&(this._target=r)}get target(){if(this._target)return this._target;throw ReferenceError("Target not set.")}set target(r){this._target=r}}});var Z,We=c(()=>{"use strict";Z=class extends Error{constructor(o,s,a,u=[]){super(`${o} error at position ${s+1}.
	Found: "${a}"
	Expected: ${u.map(f=>`"${f}"`).join(", ")}`);this.source=o;this.position=s;this.found=a;this.expected=u}}});var Vo=c(()=>{"use strict"});function lr(n,r){r.expected.length>0&&(n.expected=n.expected.concat(r.expected))}function Do(n){return n.expected.map(r=>`"${r}"`).join(", ")}function Fe(n,r){return{kind:"ok",position:n,result:r}}function At(n,r,o=[]){return{kind:"fail",position:n,found:r,expected:o}}var mr=c(()=>{"use strict"});function _e(n){return n.replace(`
`,"\\n").replace("\r","\\r").replace("	","\\t")}var Et=c(()=>{"use strict"});function Wo(n,r,o){return new hr(n,r,o)}var ze,Ct,hr,_o=c(()=>{"use strict";Et();We();ze=class{constructor(r,o){this.token=r;this.text=o}toString(){return this.text?_e(this.text):this.token}},Ct=class{constructor(...r){this.matchers=r.map(o=>({regex:new RegExp(o[0],"yu"),token:o[1]}))}matchToken(r,o){for(let s=0;s<this.matchers.length;s++){let a=this.matchers[s];a.regex.lastIndex=o;let u=a.regex.exec(r);if(u!=null)return new ze(a.token,u[0])}return null}},hr=class{constructor(r,o,s){this.input=r,this.lexer=o,this.tokens=new Array(r.length),this.position=-1,this.eof=s,this.current=this.eof}next(){let r=this.position;if(r+=this.tokens[r]?this.tokens[r].text.length:1,r>=this.input.length)return this.eof;this.position=r;let o=this.tokens[r]||this.lexer.matchToken(this.input,r);if(!o)throw new Z("Lexer",r,this.input.substr(r,10)+"...",["<valid token>"]);return this.tokens[r]=o,this.current=o,o}}});function Nu(n,r){D.rulesEvaluated=0;let o=n.parse(r);return D.debugging&&console.info("Number of rules evaluated: "+D.rulesEvaluated),o}function Ho(n,r){var o=Nu(n,r);if(o.kind=="fail")throw new Z("Parsing",o.position,o.found,o.expected);return o.result}function U(n){return new R(r=>Fe(r.position,n))}function zo(n,...r){return new R(o=>At(o.position,n,r))}function Au(n){return new R(r=>{let o=r.position,s=r.next();return n(s)?Fe(r.position,s):(r.position=o,At(r.position,`${s}`))})}function Go(...n){if(n.length==0)throw Error("At least one parser must be given.");return new R(r=>{let o=null,s=0,a=r.position;do{let u=n[s++].parse(r);if(u.kind=="ok"||u.position>a)return u;o==null?o=u:lr(o,u)}while(s<n.length);return o})}function Ko(n){return new R(r=>n.target.parse(r))}function Eu(n){return Au(r=>r.token===n)}function Q(n,r){return Eu(n).expect(r)}var R,D,dr=c(()=>{"use strict";mr();Et();We();R=class n{constructor(r){this.parse=r}bind(r){return new n(o=>{let s=o.position,a=this.parse(o);if(a.kind=="ok"){let u=r(a.result).parse(o);return u.kind=="fail"&&s!==o.position&&(o.position=s),u}return a})}seq(r){return this.bind(o=>r)}map(r){return this.bind(o=>U(r(o)))}or(r){return new n(o=>{let s=o.position,a=this.parse(o);if(a.kind=="ok"||a.position>s)return a;let u=r.parse(o);return u.kind=="ok"||lr(u,a),u})}optional(r){return this.or(U(r))}optionalRef(){return this.or(U(null))}where(r){return this.bind(o=>r(o)?U(o):zo(`${o}`,"predicate"))}zeroOrMore(){return new n(r=>{let o=[];for(;;){let s=r.position,a=this.parse(r);if(a.kind=="fail")return a.position>s?a:Fe(a.position,o);o.push(a.result)}})}oneOrMore(){return new n(r=>{let o=this.parse(r);if(o.kind=="fail")return o;let s=[o.result];for(;;){let a=r.position;if(o=this.parse(r),o.kind=="fail")return o.position>a?o:Fe(o.position,s);s.push(o.result)}})}occurrences(r,o){return this.zeroOrMore().bind(s=>{let a=s.length;return a>=r&&a<=o?U(s):zo(`${a} occurrences`,`${r}-${o} occurrences`)})}and(){return new n(r=>{let o=r.position,s=this.parse(r);return r.position=o,s})}not(){return new n(r=>{let o=r.position,s=this.parse(r);if(r.position=o,s.kind=="ok"){let a=`${s.result}`;return At(s.position,a,["not "+a])}return Fe(s.position,void 0)})}backtrack(){return new n(r=>{let o=r.position,s=this.parse(r);return s.kind=="fail"&&s.position>o&&(s.position=o),s})}expect(r){if(!D.errorMessages)return this;let o=new n(s=>{let a=this.parse(s);return a.kind=="fail"&&a.expected.push(r),a});return D.debugging?o.trace(r):o}trace(r){return D.debugging?new n(o=>{D.write(`${r} called with input '${o.current}'.`),D.indent();let s=this.parse(o);return D.rulesEvaluated++,D.unindent(),D.write((s.kind=="ok"?`${r} SUCCEEDED with value '${_e(`${s.result}`)}'`:`${r} FAILED with value '${_e(`${s.found}`)}'. Expected values: ${Do(s)}`)+` at position ${s.position}`),s}):this}},D={debugging:!1,rulesEvaluated:0,errorMessages:!0,indentation:0,indent(){this.indentation++},unindent(){this.indentation--},write(n){let r="  ".repeat(this.indentation);console.log(r+n)}}});function xr(...n){return Go(...n.map(([r,o])=>r.map(s=>o)))}var Jo=c(()=>{"use strict";dr();R.prototype.oneOrMoreSeparatedBy=function(n){return this.bind(r=>n.seq(this).zeroOrMore().bind(o=>U([r].concat(o))))};R.prototype.zeroOrMoreSeparatedBy=function(n){return this.oneOrMoreSeparatedBy(n).or(U([]))};R.prototype.followedBy=function(n){return this.bind(r=>n.bind(o=>U(r)))};R.prototype.surroundedBy=function(n){return n.bind(r=>this.bind(o=>n.bind(s=>U(o))))};R.prototype.bracketedBy=function(n,r){return n.bind(o=>this.bind(s=>r.bind(a=>U(s))))};R.prototype.chainOneOrMore=function(n){return this.bind(r=>n.bind(o=>this.bind(s=>U([o,s]))).zeroOrMore().bind(o=>U(o.reduce((s,[a,u])=>a(s,u),r))))};R.prototype.chainZeroOrMore=function(n,r){return this.chainOneOrMore(n).or(U(r))}});var Pt=c(()=>{"use strict";Ro();We();Vo();mr();We();_o();dr();Jo();Et()});function je(n){return Ho(qu,Wo(n,Pu,new ze(8,"<end of input>")))}var Pu,ce,Ou,Mu,Fu,ju,$u,Lu,Bu,Ru,Uu,Vu,Yo,Xo,Du,qu,br=c(()=>{"use strict";Pt();D.debugging=!1;Pu=new Ct([/-?\d+(?:\.\d+)?(?:[eE][+-]?\d+)?/,0],[/\(/,1],[/\)/,2],[/\+/,3],[/-/,4],[/\*/,5],[/\//,6],[/[\t\n\r ]+/,7]),ce=Q(7,"<whitespace>").optionalRef(),Ou=Q(0,"<number>").map(n=>Number(n.text)).followedBy(ce),Mu=Q(1,"(").followedBy(ce),Fu=Q(2,")").followedBy(ce),ju=Q(3,"+").followedBy(ce),$u=Q(4,"-").followedBy(ce),Lu=Q(5,"*").followedBy(ce),Bu=Q(6,"/").followedBy(ce),Ru=Q(8,"<end of input>"),Uu=xr([ju,(n,r)=>n+r],[$u,(n,r)=>n-r]),Vu=xr([Lu,(n,r)=>n*r],[Bu,(n,r)=>n/r]),Yo=new Nt,Xo=Ko(Yo).chainOneOrMore(Uu),Du=Xo.bracketedBy(Mu,Fu).or(Ou);Yo.target=Du.chainOneOrMore(Vu);qu=ce.seq(Xo).followedBy(Ru)});var q,be=c(()=>{q=class n extends Error{constructor(r=!1){super(),this.interruptExecution=r,this.footprint=n.SharedFootPrint}static isFailure(r){return r!=null&&r.footprint===n.SharedFootPrint}};q.SharedFootPrint=Symbol("fast-check/PreconditionFailure")});var Qo=c(()=>{be()});function ei(){return He.nil}function*ti(n,r){for(let o of n)yield r(o)}function*ri(n,r){for(let o of n)yield*r(o)}function*ni(n,r){for(let o of n)r(o)&&(yield o)}function*oi(n,r){for(let o=0;o<r;++o){let s=n.next();if(s.done)break;yield s.value}}function*ii(n,r){let o=n.next();for(;!o.done&&r(o.value);)yield o.value,o=n.next()}function*si(n,r){for(let o=n.next();!o.done;o=n.next())yield o.value;for(let o of r)for(let s=o.next();!s.done;s=o.next())yield s.value}var He,ai=c(()=>{He=class{[Symbol.iterator](){return this}next(r){return{value:r,done:!0}}};He.nil=new He});function W(n){return new g(n)}var g,v=c(()=>{ai();g=class n{constructor(r){this.g=r}static nil(){return new n(ei())}static of(...r){return new n(r[Symbol.iterator]())}next(){return this.g.next()}[Symbol.iterator](){return this.g}map(r){return new n(ti(this.g,r))}flatMap(r){return new n(ri(this.g,r))}dropWhile(r){let o=!1;function*s(a){(o||!r(a))&&(o=!0,yield a)}return this.flatMap(s)}drop(r){let o=0;function s(){return o++<r}return this.dropWhile(s)}takeWhile(r){return new n(ii(this.g,r))}take(r){return new n(oi(this.g,r))}filter(r){return new n(ni(this.g,r))}every(r){for(let o of this.g)if(!r(o))return!1;return!0}has(r){for(let o of this.g)if(r(o))return[!0,o];return[!1,null]}join(...r){return new n(si(this.g,r))}getNthOrLast(r){let o=r,s=null;for(let a of this.g){if(o--===0)return a;s=a}return s}}});function ee(n){return n!==null&&(typeof n=="object"||typeof n=="function")&&S in n&&typeof n[S]=="function"}function Ot(n){return ee(n)?n[S]():n}var S,L=c(()=>{S=Symbol("fast-check/cloneMethod")});var P,te=c(()=>{v();L();P=class n{constructor(r,o=()=>g.nil(),s=void 0){this.value_=r,this.shrink=o,this.hasToBeCloned=s!==void 0||ee(r),this.readOnce=!1,this.hasToBeCloned?Object.defineProperty(this,"value",{get:s!==void 0?s:this.getValue}):this.value=r}getValue(){return this.readOnce?this.value_[S]():(this.readOnce=!0,this.value_)}applyMapper(r){if(this.hasToBeCloned){let o=r(this.value);return o instanceof Object&&(o[S]=()=>this.applyMapper(r)),o}return r(this.value)}map(r){return new n(this.applyMapper(r),()=>this.shrink().map(o=>o.map(r)))}filter(r){let o=s=>r(s.value_);return new n(this.value,()=>this.shrink().filter(o).map(s=>s.filter(r)))}}});function ui(n){if(typeof n!="object"||n===null||!("generate"in n))throw new Error("Unexpected value received: not an instance of Arbitrary")}var V,yr,wr,Sr,Tr,kr,fe=c(()=>{te();V=class{filter(r){return new Sr(this,r)}map(r){return new wr(this,r)}chain(r){return new yr(this,r)}noShrink(){return new Tr(this)}withBias(r){return this}noBias(){return new kr(this)}},yr=class n extends V{constructor(r,o){super(),this.arb=r,this.fmapper=o}generate(r){let o=r.clone(),s=this.arb.generate(r),a=this.fmapper(s.value).generate(r);return n.shrinkChain(o,s,a,this.fmapper)}withBias(r){return this.arb.withBias(r).chain(o=>this.fmapper(o).withBias(r))}static shrinkChain(r,o,s,a){return new P(s.value,()=>o.shrink().map(u=>n.shrinkChain(r.clone(),u,a(u.value).generate(r.clone()),a)).join(s.shrink()))}},wr=class extends V{constructor(r,o){super(),this.arb=r,this.mapper=o}generate(r){return this.arb.generate(r).map(this.mapper)}withBias(r){return this.arb.withBias(r).map(this.mapper)}},Sr=class extends V{constructor(r,o){super(),this.arb=r,this.refinement=o}generate(r){let o=this.arb.generate(r);for(;!this.refinementOnShrinkable(o);)o=this.arb.generate(r);return o.filter(this.refinement)}withBias(r){return this.arb.withBias(r).filter(this.refinement)}refinementOnShrinkable(r){return this.refinement(r.value)}},Tr=class extends V{constructor(r){super(),this.arb=r}generate(r){return new P(this.arb.generate(r).value)}withBias(r){return this.arb.withBias(r).noShrink()}},kr=class extends V{constructor(r){super(),this.arb=r}generate(r){return this.arb.generate(r)}}});function Wu(n){return n[0]}var Ge,Ir=c(()=>{fe();te();Ge=class extends V{contextualShrinkableFor(r,o){return new P(r,()=>this.contextualShrink(r,o).map(s=>this.contextualShrinkableFor(s[0],s[1])))}shrink(r,o){let s=o===!0?this.shrunkOnceContext():void 0;return this.contextualShrink(r,s).map(Wu)}shrinkableFor(r,o){return new P(r,()=>this.shrink(r,o).map(s=>this.shrinkableFor(s,!0)))}}});var b,j=c(()=>{L();b=class{constructor(r,o,s=void 0){this.value_=r,this.context=o,this.hasToBeCloned=s!==void 0||ee(r),this.readOnce=!1,this.hasToBeCloned?Object.defineProperty(this,"value",{get:s!==void 0?s:this.getValue}):this.value=r}getValue(){return this.hasToBeCloned?this.readOnce?this.value_[S]():(this.readOnce=!0,this.value_):this.value_}}});function Pr(n){if(typeof n!="object"||n===null||!("generate"in n)||!("shrink"in n)||"shrinkableFor"in n)throw new Error("Unexpected value received: not an instance of NextArbitrary")}var T,vr,Nr,Ar,Er,Cr,B=c(()=>{v();L();j();T=class{filter(r){return new Ar(this,r)}map(r,o){return new Nr(this,r,o)}chain(r){return new vr(this,r)}noShrink(){return new Er(this)}noBias(){return new Cr(this)}},vr=class extends T{constructor(r,o){super(),this.arb=r,this.chainer=o}generate(r,o){let s=r.clone(),a=this.arb.generate(r,o);return this.valueChainer(a,r,s,o)}canShrinkWithoutContext(r){return!1}shrink(r,o){return this.isSafeContext(o)?(o.stoppedForOriginal?g.nil():this.arb.shrink(o.originalValue,o.originalContext).map(s=>this.valueChainer(s,o.clonedMrng.clone(),o.clonedMrng,o.originalBias))).join(o.chainedArbitrary.shrink(r,o.chainedContext).map(s=>{let a=Object.assign(Object.assign({},o),{chainedContext:s.context,stoppedForOriginal:!0});return new b(s.value_,a)})):g.nil()}valueChainer(r,o,s,a){let u=this.chainer(r.value_),f=u.generate(o,a),p={originalBias:a,originalValue:r.value_,originalContext:r.context,stoppedForOriginal:!1,chainedArbitrary:u,chainedContext:f.context,clonedMrng:s};return new b(f.value_,p)}isSafeContext(r){return r!=null&&typeof r=="object"&&"originalBias"in r&&"originalValue"in r&&"originalContext"in r&&"stoppedForOriginal"in r&&"chainedArbitrary"in r&&"chainedContext"in r&&"clonedMrng"in r}},Nr=class extends T{constructor(r,o,s){super(),this.arb=r,this.mapper=o,this.unmapper=s,this.bindValueMapper=this.valueMapper.bind(this)}generate(r,o){let s=this.arb.generate(r,o);return this.valueMapper(s)}canShrinkWithoutContext(r){if(this.unmapper!==void 0)try{let o=this.unmapper(r);return this.arb.canShrinkWithoutContext(o)}catch{return!1}return!1}shrink(r,o){if(this.isSafeContext(o))return this.arb.shrink(o.originalValue,o.originalContext).map(this.bindValueMapper);if(this.unmapper!==void 0){let s=this.unmapper(r);return this.arb.shrink(s,void 0).map(this.bindValueMapper)}return g.nil()}mapperWithCloneIfNeeded(r){let o=r.value,s=this.mapper(o);return r.hasToBeCloned&&(typeof s=="object"&&s!==null||typeof s=="function")&&Object.isExtensible(s)&&Object.defineProperty(s,S,{get:()=>()=>this.mapperWithCloneIfNeeded(r)[0]}),[s,o]}valueMapper(r){let[o,s]=this.mapperWithCloneIfNeeded(r),a={originalValue:s,originalContext:r.context};return new b(o,a)}isSafeContext(r){return r!=null&&typeof r=="object"&&"originalValue"in r&&"originalContext"in r}},Ar=class extends T{constructor(r,o){super(),this.arb=r,this.refinement=o,this.bindRefinementOnValue=this.refinementOnValue.bind(this)}generate(r,o){for(;;){let s=this.arb.generate(r,o);if(this.refinementOnValue(s))return s}}canShrinkWithoutContext(r){return this.arb.canShrinkWithoutContext(r)&&this.refinement(r)}shrink(r,o){return this.arb.shrink(r,o).filter(this.bindRefinementOnValue)}refinementOnValue(r){return this.refinement(r.value)}},Er=class extends T{constructor(r){super(),this.arb=r}generate(r,o){return this.arb.generate(r,o)}canShrinkWithoutContext(r){return this.arb.canShrinkWithoutContext(r)}shrink(r,o){return g.nil()}noShrink(){return this}},Cr=class extends T{constructor(r){super(),this.arb=r}generate(r,o){return this.arb.generate(r,void 0)}canShrinkWithoutContext(r){return this.arb.canShrinkWithoutContext(r)}shrink(r,o){return this.arb.shrink(r,o)}noBias(){return this}}});function ci(n){return n.hasToBeCloned?new b(n.value_,n,()=>n.value):new b(n.value_,n)}var fi,pi,oe,Or=c(()=>{v();Ke();B();j();pi="__ConverterToNext__";oe=class n extends T{constructor(r){super(),this.arb=r,this[fi]=!0}static isConverterToNext(r){return pi in r}static convertIfNeeded(r){return _.isConverterFromNext(r)?r.arb:new n(r)}generate(r,o){let s=o!==void 0?this.arb.withBias(o).generate(r):this.arb.generate(r);return ci(s)}canShrinkWithoutContext(r){return!1}shrink(r,o){return this.isSafeContext(o)?o.shrink().map(ci):g.nil()}isSafeContext(r){return r!=null&&typeof r=="object"&&"value"in r&&"shrink"in r}filter(r){return n.convertIfNeeded(this.arb.filter(r))}map(r){return n.convertIfNeeded(this.arb.map(r))}chain(r){return n.convertIfNeeded(this.arb.chain(o=>{let s=r(o);return n.isConverterToNext(s)?s.arb:new _(s)}))}noShrink(){return n.convertIfNeeded(this.arb.noShrink())}noBias(){return n.convertIfNeeded(this.arb.noBias())}};fi=pi});function _u(n){return function r(o){let s=o.value_,a=()=>n.shrink(s,o.context).map(r);return o.hasToBeCloned?new P(s,a,()=>o.value):new P(s,a)}}var li,mi,_,Ke=c(()=>{Ir();Or();te();mi="__ConverterFromNext__";_=class n extends Ge{constructor(r,o,s=void 0){super(),this.arb=r,this.legacyShrunkOnceContext=o,this.biasFactor=s,this[li]=!0,this.toShrinkable=_u(r)}static isConverterFromNext(r){return mi in r}static convertIfNeeded(r){return oe.isConverterToNext(r)?r.arb:new n(r)}generate(r){let o=this.arb.generate(r,this.biasFactor);return this.toShrinkable(o)}contextualShrink(r,o){return this.arb.shrink(r,o).map(s=>[s.value_,s.context])}shrunkOnceContext(){return this.legacyShrunkOnceContext}filter(r){return n.convertIfNeeded(this.arb.filter(r))}map(r){return n.convertIfNeeded(this.arb.map(r))}chain(r){return n.convertIfNeeded(this.arb.chain(o=>{let s=r(o);return n.isConverterFromNext(s)?s.arb:new oe(s)}))}noShrink(){return n.convertIfNeeded(this.arb.noShrink())}withBias(r){return new n(this.arb,this.legacyShrunkOnceContext,r)}noBias(){return n.convertIfNeeded(this.arb.noBias())}};li=mi});function d(n){return oe.isConverterToNext(n)?n.arb:(Pr(n),new _(n))}function K(n,r){if(oe.isConverterToNext(n)){if(!("contextualShrink"in n.arb)||!("contextualShrinkableFor"in n.arb)||!("shrunkOnceContext"in n.arb)||!("shrink"in n.arb)||!("shrinkableFor"in n.arb))throw new Error("Conversion rejected: Underlying arbitrary is not compatible with ArbitraryWithContextualShrink");return n.arb}return Pr(n),new _(n,r)}function x(n){return _.isConverterFromNext(n)?n.arb:(ui(n),new oe(n))}var h=c(()=>{fe();Ke();Or();B()});var $e,Mr=c(()=>{v();L();B();j();$e=class n extends T{constructor(r){super(),this.arbs=r;for(let o=0;o!==r.length;++o){let s=r[o];if(s==null||s.generate==null)throw new Error(`Invalid parameter encountered at index ${o}: expecting an Arbitrary`)}}static makeItCloneable(r,o){return Object.defineProperty(r,S,{value:()=>{let s=[];for(let a=0;a!==o.length;++a)s.push(o[a].value);return n.makeItCloneable(s,o),s}})}static wrapper(r){let o=!1,s=[],a=[];for(let u=0;u!==r.length;++u){let f=r[u];o=o||f.hasToBeCloned,s.push(f.value),a.push(f.context)}return o&&n.makeItCloneable(s,r),new b(s,a)}generate(r,o){return n.wrapper(this.arbs.map(s=>s.generate(r,o)))}canShrinkWithoutContext(r){if(!Array.isArray(r)||r.length!==this.arbs.length)return!1;for(let o=0;o!==this.arbs.length;++o)if(!this.arbs[o].canShrinkWithoutContext(r[o]))return!1;return!0}shrink(r,o){let s=g.nil(),a=Array.isArray(o)?o:[];for(let u=0;u!==this.arbs.length;++u){let f=this.arbs[u].shrink(r[u],a[u]).map(p=>{let l=r.map((m,y)=>new b(Ot(m),a[y]));return l.slice(0,u).concat([p]).concat(l.slice(u+1))}).map(p=>n.wrapper(p));s=s.join(f)}return s}}});function Mt(n){let r=n.map(o=>x(o));return d(new $e(r))}var Ft=c(()=>{h();Mr()});var Le,Fr=c(()=>{Le=n=>2+Math.floor(Math.log(n+1)/Math.log(10))});function pe(){return zu}var zu,Be=c(()=>{zu={}});var jt,hi=c(()=>{be();Fr();Be();Ke();jt=class n{constructor(r,o){this.arb=r,this.predicate=o,this.isAsync=()=>!0;let{asyncBeforeEach:s,asyncAfterEach:a,beforeEach:u,afterEach:f}=pe()||{};if(s!==void 0&&u!==void 0)throw Error(`Global "asyncBeforeEach" and "beforeEach" parameters can't be set at the same time when running async properties`);if(a!==void 0&&f!==void 0)throw Error(`Global "asyncAfterEach" and "afterEach" parameters can't be set at the same time when running async properties`);this.beforeEachHook=s||u||n.dummyHook,this.afterEachHook=a||f||n.dummyHook}generate(r,o){return _.isConverterFromNext(this.arb)?this.arb.toShrinkable(this.arb.arb.generate(r,o!=null?Le(o):void 0)):o!=null?this.arb.withBias(Le(o)).generate(r):this.arb.generate(r)}async run(r){await this.beforeEachHook();try{let o=await this.predicate(r);return o==null||o===!0?null:"Property failed by returning false"}catch(o){return q.isFailure(o)?o:o instanceof Error&&o.stack?`${o}

Stack trace: ${o.stack}`:`${o}`}finally{await this.afterEachHook()}}beforeEach(r){let o=this.beforeEachHook;return this.beforeEachHook=()=>r(o),this}afterEach(r){let o=this.afterEachHook;return this.afterEachHook=()=>r(o),this}};jt.dummyHook=()=>{}});var di=c(()=>{Ft();hi()});var xi=c(()=>{di()});var Re,jr=c(()=>{be();Fr();Be();Ke();Re=class n{constructor(r,o){this.arb=r,this.predicate=o,this.isAsync=()=>!1;let{beforeEach:s=n.dummyHook,afterEach:a=n.dummyHook,asyncBeforeEach:u,asyncAfterEach:f}=pe()||{};if(u!==void 0)throw Error(`"asyncBeforeEach" can't be set when running synchronous properties`);if(f!==void 0)throw Error(`"asyncAfterEach" can't be set when running synchronous properties`);this.beforeEachHook=s,this.afterEachHook=a}generate(r,o){return _.isConverterFromNext(this.arb)?this.arb.toShrinkable(this.arb.arb.generate(r,o!=null?Le(o):void 0)):o!=null?this.arb.withBias(Le(o)).generate(r):this.arb.generate(r)}run(r){this.beforeEachHook();try{let o=this.predicate(r);return o==null||o===!0?null:"Property failed by returning false"}catch(o){return q.isFailure(o)?o:o instanceof Error&&o.stack?`${o}

Stack trace: ${o.stack}`:`${o}`}finally{this.afterEachHook()}}beforeEach(r){let o=this.beforeEachHook;return this.beforeEachHook=()=>r(o),this}afterEach(r){let o=this.afterEachHook;return this.afterEachHook=()=>r(o),this}};Re.dummyHook=()=>{}});function $t(...n){if(n.length<2)throw new Error("property expects at least two parameters");let r=n.slice(0,n.length-1),o=n[n.length-1];return new Re(Mt(r),s=>o(...s))}var gi=c(()=>{Ft();jr()});var bi=c(()=>{gi()});function $r(n,r){for(var o=[],s=0;s!=r;++s)o.push(n.unsafeNext());return o}function yi(n,r){var o=n.clone(),s=$r(o,r);return[s,o]}function Lr(n,r){for(var o=0;o!=r;++o)n.unsafeNext()}function Lt(n,r){var o=n.clone();return Lr(o,r),o}var wi=c(()=>{});var Gu,Ku,Ju,Yu,Bt,Rt,Xu,Zu,Si,Ti,ki=c(()=>{Gu=214013,Ku=2531011,Ju=4294967295,Yu=(1<<31)-1,Bt=function(n){return n*Gu+Ku&Ju},Rt=function(n){return(n&Yu)>>16},Xu=function(){function n(r){this.seed=r}return n.prototype.min=function(){return n.min},n.prototype.max=function(){return n.max},n.prototype.clone=function(){return new n(this.seed)},n.prototype.next=function(){var r=new n(this.seed),o=r.unsafeNext();return[o,r]},n.prototype.unsafeNext=function(){return this.seed=Bt(this.seed),Rt(this.seed)},n.min=0,n.max=Math.pow(2,15)-1,n}(),Zu=function(){function n(r){this.seed=r}return n.prototype.min=function(){return n.min},n.prototype.max=function(){return n.max},n.prototype.clone=function(){return new n(this.seed)},n.prototype.next=function(){var r=new n(this.seed),o=r.unsafeNext();return[o,r]},n.prototype.unsafeNext=function(){var r=Bt(this.seed),o=Rt(r),s=Bt(r),a=Rt(s);this.seed=Bt(s);var u=Rt(this.seed),f=u+(a+(o<<15)<<15);return(f+2147483648|0)+2147483648},n.min=0,n.max=4294967295,n}(),Si=function(n){return new Xu(n)},Ti=function(n){return new Zu(n)}});function Ii(n){return Qu.from(n)}var Qu,vi=c(()=>{Qu=function(){function n(r,o){this.states=r,this.index=o}return n.twist=function(r){for(var o=r.slice(),s=0;s!==n.N-n.M;++s){var a=(o[s]&n.MASK_UPPER)+(o[s+1]&n.MASK_LOWER);o[s]=o[s+n.M]^a>>>1^-(a&1)&n.A}for(var s=n.N-n.M;s!==n.N-1;++s){var u=(o[s]&n.MASK_UPPER)+(o[s+1]&n.MASK_LOWER);o[s]=o[s+n.M-n.N]^u>>>1^-(u&1)&n.A}var f=(o[n.N-1]&n.MASK_UPPER)+(o[0]&n.MASK_LOWER);return o[n.N-1]=o[n.M-1]^f>>>1^-(f&1)&n.A,o},n.seeded=function(r){var o=Array(n.N);o[0]=r;for(var s=1;s!==n.N;++s){var a=o[s-1]^o[s-1]>>>30;o[s]=Math.imul(n.F,a)+s|0}return o},n.from=function(r){return new n(n.twist(n.seeded(r)),0)},n.prototype.min=function(){return n.min},n.prototype.max=function(){return n.max},n.prototype.clone=function(){return new n(this.states,this.index)},n.prototype.next=function(){var r=new n(this.states,this.index),o=r.unsafeNext();return[o,r]},n.prototype.unsafeNext=function(){var r=this.states[this.index];return r^=this.states[this.index]>>>n.U,r^=r<<n.S&n.B,r^=r<<n.T&n.C,r^=r>>>n.L,++this.index>=n.N&&(this.states=n.twist(this.states),this.index=0),r>>>0},n.min=0,n.max=4294967295,n.N=624,n.M=397,n.R=31,n.A=2567483615,n.F=1812433253,n.U=11,n.S=7,n.B=2636928640,n.T=15,n.C=4022730752,n.L=18,n.MASK_LOWER=Math.pow(2,n.R)-1,n.MASK_UPPER=Math.pow(2,n.R),n}()});var ec,Ni,Ai=c(()=>{ec=function(){function n(r,o,s,a){this.s01=r,this.s00=o,this.s11=s,this.s10=a}return n.prototype.min=function(){return-2147483648},n.prototype.max=function(){return 2147483647},n.prototype.clone=function(){return new n(this.s01,this.s00,this.s11,this.s10)},n.prototype.next=function(){var r=new n(this.s01,this.s00,this.s11,this.s10),o=r.unsafeNext();return[o,r]},n.prototype.unsafeNext=function(){var r=this.s00^this.s00<<23,o=this.s01^(this.s01<<23|this.s00>>>9),s=r^this.s10^(r>>>18|o<<14)^(this.s10>>>5|this.s11<<27),a=o^this.s11^o>>>18^this.s11>>>5,u=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=a,this.s10=s,u},n.prototype.jump=function(){var r=new n(this.s01,this.s00,this.s11,this.s10);return r.unsafeJump(),r},n.prototype.unsafeJump=function(){for(var r=0,o=0,s=0,a=0,u=[1667051007,2321340297,1548169110,304075285],f=0;f!==4;++f)for(var p=1;p;p<<=1)u[f]&p&&(r^=this.s01,o^=this.s00,s^=this.s11,a^=this.s10),this.unsafeNext();this.s01=r,this.s00=o,this.s11=s,this.s10=a},n}(),Ni=function(n){return new ec(-1,~n,n|0,0)}});var tc,Ei,Ci=c(()=>{tc=function(){function n(r,o,s,a){this.s01=r,this.s00=o,this.s11=s,this.s10=a}return n.prototype.min=function(){return-2147483648},n.prototype.max=function(){return 2147483647},n.prototype.clone=function(){return new n(this.s01,this.s00,this.s11,this.s10)},n.prototype.next=function(){var r=new n(this.s01,this.s00,this.s11,this.s10),o=r.unsafeNext();return[o,r]},n.prototype.unsafeNext=function(){var r=this.s00+this.s10|0,o=this.s10^this.s00,s=this.s11^this.s01,a=this.s00,u=this.s01;return this.s00=a<<24^u>>>8^o^o<<16,this.s01=u<<24^a>>>8^s^(s<<16|o>>>16),this.s10=s<<5^o>>>27,this.s11=o<<5^s>>>27,r},n.prototype.jump=function(){var r=new n(this.s01,this.s00,this.s11,this.s10);return r.unsafeJump(),r},n.prototype.unsafeJump=function(){for(var r=0,o=0,s=0,a=0,u=[3639956645,3750757012,1261568508,386426335],f=0;f!==4;++f)for(var p=1;p;p<<=1)u[f]&p&&(r^=this.s01,o^=this.s00,s^=this.s11,a^=this.s10),this.unsafeNext();this.s01=r,this.s00=o,this.s11=s,this.s10=a},n}(),Ei=function(n){return new tc(-1,~n,n|0,0)}});function Br(n,r){if(n.sign!==r.sign)return Ut(n,{sign:-r.sign,data:r.data});for(var o=[],s=0,a=n.data,u=r.data,f=a.length-1,p=u.length-1;f>=0||p>=0;--f,--p){var l=f>=0?a[f]:0,m=p>=0?u[p]:0,y=l+m+s;o.push(y>>>0),s=~~(y/4294967296)}return s!==0&&o.push(s),{sign:n.sign,data:o.reverse()}}function Pi(n){n.sign=1;for(var r=n.data,o=r.length-1;o>=0;--o)if(r[o]===4294967295)r[o]=0;else return r[o]+=1,n;return r.unshift(1),n}function rc(n,r){for(var o=Math.max(n.length,r.length),s=0;s<o;++s){var a=s+n.length-o,u=s+r.length-o,f=a>=0?n[a]:0,p=u>=0?r[u]:0;if(f<p)return!0;if(f>p)return!1}return!1}function Ut(n,r){if(n.sign!==r.sign)return Br(n,{sign:-r.sign,data:r.data});var o=n.data,s=r.data;if(rc(o,s)){var a=Ut(r,n);return a.sign=-a.sign,a}for(var u=[],f=0,p=o.length-1,l=s.length-1;p>=0||l>=0;--p,--l){var m=p>=0?o[p]:0,y=l>=0?s[l]:0,k=m-y-f;u.push(k>>>0),f=k<0?1:0}return{sign:n.sign,data:u.reverse()}}function Rr(n){for(var r=n.data,o=0;o!==r.length&&r[o]===0;++o);return o===r.length?(n.sign=1,n.data=[0],n):(r.splice(0,o),n)}function Vt(n,r){if(r<0){var o=-r;n.sign=-1,n.data[0]=~~(o/4294967296),n.data[1]=o>>>0}else n.sign=1,n.data[0]=~~(r/4294967296),n.data[1]=r>>>0;return n}function Oi(n,r,o){var s=r.data[1],a=r.data[0],u=r.sign,f=o.data[1],p=o.data[0],l=o.sign;if(n.sign=1,u===1&&l===-1){var m=s+f,y=a+p+(m>4294967295?1:0);return n.data[0]=y>>>0,n.data[1]=m>>>0,n}var k=s,N=a,G=f,gt=p;u===-1&&(k=f,N=p,G=s,gt=a);var co=0,bt=k-G;return bt<0&&(co=1,bt=bt>>>0),n.data[0]=N-gt-co,n.data[1]=bt,n}var Ur=c(()=>{});function Dt(n,r){var o=r.min(),s=r.max()-r.min()+1;if(n<=s)for(var a=r,u=s-s%n;;){var f=a.unsafeNext(),p=f-o;if(p<u)return p%n}for(var l=s*s,m=2;l<n;)l*=s,++m;for(var y=n*Math.floor(1*l/n),k=r;;){for(var N=0,G=0;G!==m;++G){var f=k.unsafeNext();N=s*N+(f-o)}if(N<y){var gt=N-n*Math.floor(1*N/n);return gt}}}var Vr=c(()=>{});function qt(n,r,o){for(var s=r.length;;){for(var a=0;a!==s;++a){var u=a===0?r[0]+1:4294967296,f=Dt(u,o);n[a]=f}for(var a=0;a!==s;++a){var p=n[a],l=r[a];if(p<l)return n;if(p>l)break}}}var Dr=c(()=>{Vr()});function ye(n,r,o){var s=Rr(Pi(Ut(r,n))),a=s.data.slice(0),u=qt(a,s.data,o);return Rr(Br({sign:1,data:u},n))}var qr=c(()=>{Ur();Dr()});function Mi(n,r,o){if(o!=null){var s=o.clone();return[ye(n,r,s),s]}return function(a){var u=a.clone();return[ye(n,r,u),u]}}var Fi=c(()=>{qr()});function we(n,r,o){for(var s=r-n+BigInt(1),a=BigInt(o.min()),u=BigInt(o.max()-o.min()+1),f=u,p=BigInt(1);f<s;)f*=u,++p;for(var l=f-f%s;;){for(var m=BigInt(0),y=BigInt(0);y!==p;++y){var k=o.unsafeNext();m=u*m+(BigInt(k)-a)}if(m<l){var N=m%s;return N+n}}}var Wr=c(()=>{});function ji(n,r,o){if(o!=null){var s=o.clone();return[we(n,r,s),s]}return function(a){var u=a.clone();return[we(n,r,u),u]}}var $i=c(()=>{Wr()});function ic(n,r,o,s){var a=o<=Number.MAX_SAFE_INTEGER?Vt(Li,o):Oi(Li,Vt(nc,r),Vt(oc,n));return a.data[1]===4294967295?(a.data[0]+=1,a.data[1]=0):a.data[1]+=1,qt(_r,a.data,s),_r[0]*4294967296+_r[1]+n}function ie(n,r,o){var s=r-n;if(s<=4294967295){var a=Dt(s+1,o);return a+n}return ic(n,r,s,o)}var nc,oc,Li,_r,zr=c(()=>{Vr();Ur();Dr();nc={sign:1,data:[0,0]},oc={sign:1,data:[0,0]},Li={sign:1,data:[0,0]},_r=[0,0]});function Bi(n,r,o){if(o!=null){var s=o.clone();return[ie(n,r,s),s]}return function(a){var u=a.clone();return[ie(n,r,u),u]}}var Ri=c(()=>{zr()});var Hr={};Pa(Hr,{__commitHash:()=>uc,__type:()=>sc,__version:()=>ac,congruential:()=>Si,congruential32:()=>Ti,generateN:()=>yi,mersenne:()=>Ii,skipN:()=>Lt,uniformArrayIntDistribution:()=>Mi,uniformBigIntDistribution:()=>ji,uniformIntDistribution:()=>Bi,unsafeGenerateN:()=>$r,unsafeSkipN:()=>Lr,unsafeUniformArrayIntDistribution:()=>ye,unsafeUniformBigIntDistribution:()=>we,unsafeUniformIntDistribution:()=>ie,xoroshiro128plus:()=>Ei,xorshift128plus:()=>Ni});var sc,ac,uc,Gr=c(()=>{wi();ki();vi();Ai();Ci();Fi();$i();Ri();qr();Wr();zr();sc="module",ac="5.0.0",uc="744555855a01e1551ab1cf67a6ea973d14964661"});var Se,Wt=c(()=>{Gr();Gr();Se=Hr});var E,Je=c(()=>{(function(n){n[n.None=0]="None",n[n.Verbose=1]="Verbose",n[n.VeryVerbose=2]="VeryVerbose"})(E||(E={}))});var J,Kr=c(()=>{Wt();Je();J=class n{constructor(r){let o=r||{};this.seed=n.readSeed(o),this.randomType=n.readRandomType(o),this.numRuns=n.readNumRuns(o),this.verbose=n.readVerbose(o),this.maxSkipsPerRun=n.readOrDefault(o,"maxSkipsPerRun",100),this.timeout=n.readOrDefault(o,"timeout",null),this.skipAllAfterTimeLimit=n.readOrDefault(o,"skipAllAfterTimeLimit",null),this.interruptAfterTimeLimit=n.readOrDefault(o,"interruptAfterTimeLimit",null),this.markInterruptAsFailure=n.readBoolean(o,"markInterruptAsFailure"),this.skipEqualValues=n.readBoolean(o,"skipEqualValues"),this.ignoreEqualValues=n.readBoolean(o,"ignoreEqualValues"),this.logger=n.readOrDefault(o,"logger",s=>{console.log(s)}),this.path=n.readOrDefault(o,"path",""),this.unbiased=n.readBoolean(o,"unbiased"),this.examples=n.readOrDefault(o,"examples",[]),this.endOnFailure=n.readBoolean(o,"endOnFailure"),this.reporter=n.readOrDefault(o,"reporter",null),this.asyncReporter=n.readOrDefault(o,"asyncReporter",null)}toParameters(){let r=o=>o!==null?o:void 0;return{seed:this.seed,randomType:this.randomType,numRuns:this.numRuns,maxSkipsPerRun:this.maxSkipsPerRun,timeout:r(this.timeout),skipAllAfterTimeLimit:r(this.skipAllAfterTimeLimit),interruptAfterTimeLimit:r(this.interruptAfterTimeLimit),markInterruptAsFailure:this.markInterruptAsFailure,skipEqualValues:this.skipEqualValues,ignoreEqualValues:this.ignoreEqualValues,path:this.path,logger:this.logger,unbiased:this.unbiased,verbose:this.verbose,examples:this.examples,endOnFailure:this.endOnFailure,reporter:r(this.reporter),asyncReporter:r(this.asyncReporter)}}static read(r){return new n(r)}};J.readSeed=n=>{if(n.seed==null)return Date.now()^Math.random()*4294967296;let r=n.seed|0;if(n.seed===r)return r;let o=n.seed-r;return r^o*4294967296};J.readRandomType=n=>{if(n.randomType==null)return Se.xorshift128plus;if(typeof n.randomType=="string")switch(n.randomType){case"mersenne":return Se.mersenne;case"congruential":return Se.congruential;case"congruential32":return Se.congruential32;case"xorshift128plus":return Se.xorshift128plus;case"xoroshiro128plus":return Se.xoroshiro128plus;default:throw new Error(`Invalid random specified: '${n.randomType}'`)}return n.randomType};J.readNumRuns=n=>n.numRuns!=null?n.numRuns:n.num_runs!=null?n.num_runs:100;J.readVerbose=n=>n.verbose==null?E.None:typeof n.verbose=="boolean"?n.verbose===!0?E.Verbose:E.None:n.verbose<=E.None?E.None:n.verbose>=E.VeryVerbose?E.VeryVerbose:n.verbose|0;J.readBoolean=(n,r)=>n[r]===!0;J.readOrDefault=(n,r,o)=>{let s=n[r];return s??o}});var Ye,Ui=c(()=>{be();Ye=class{constructor(r,o,s,a){this.property=r,this.getTime=o,this.interruptExecution=a,this.isAsync=()=>this.property.isAsync(),this.generate=(u,f)=>this.property.generate(u,f),this.run=u=>{if(this.getTime()>=this.skipAfterTime){let f=new q(this.interruptExecution);return this.isAsync()?Promise.resolve(f):f}return this.property.run(u)},this.skipAfterTime=this.getTime()+s}}});var cc,_t,Vi=c(()=>{cc=n=>{let r=null,o=new Promise(s=>{r=setTimeout(()=>{s(`Property timeout: exceeded limit of ${n} milliseconds`)},n)});return{clear:()=>clearTimeout(r),promise:o}},_t=class{constructor(r,o){this.property=r,this.timeMs=o,this.isAsync=()=>!0}generate(r,o){return this.property.generate(r,o)}async run(r){let o=cc(this.timeMs),s=Promise.race([this.property.run(r),o.promise]);return s.then(o.clear,o.clear),s}}});var Xe,Jr=c(()=>{Xe=class{constructor(r){this.property=r,this.isAsync=()=>this.property.isAsync(),this.generate=(o,s)=>this.property.generate(o),this.run=o=>this.property.run(o)}}});function Yr(n){return n!==null&&(typeof n=="object"||typeof n=="function")&&Te in n&&typeof n[Te]=="function"}function Xr(n){return n!==null&&(typeof n=="object"||typeof n=="function")&&le in n&&typeof n[le]=="function"}function pc(n){if(n.description!==void 0)return n.description;let r=fc.exec(String(n));return r&&r[1].length?r[1]:null}function Di(n){switch(n){case 0:return 1/n===Number.NEGATIVE_INFINITY?"-0":"0";case Number.NEGATIVE_INFINITY:return"Number.NEGATIVE_INFINITY";case Number.POSITIVE_INFINITY:return"Number.POSITIVE_INFINITY";default:return n===n?String(n):"Number.NaN"}}function lc(n){let r=-1;for(let o in n){let s=Number(o);if(s!==r+1)return!0;r=s}return r+1!==n.length}function z(n,r,o){let s=r.concat([n]);if(typeof n=="object"&&r.indexOf(n)!==-1)return"[cyclic]";if(Xr(n)){let a=o(n);if(a.state==="fulfilled")return a.value}if(Yr(n))try{return n[Te]()}catch{}switch(Object.prototype.toString.call(n)){case"[object Array]":{let a=n;if(a.length>=50&&lc(a)){let f=[];for(let p in a)Number.isNaN(Number(p))||f.push(`${p}:${z(a[p],s,o)}`);return f.length!==0?`Object.assign(Array(${a.length}),{${f.join(",")}})`:`Array(${a.length})`}let u=a.map(f=>z(f,s,o)).join(",");return a.length===0||a.length-1 in a?`[${u}]`:`[${u},]`}case"[object BigInt]":return`${n}n`;case"[object Boolean]":return typeof n=="boolean"?JSON.stringify(n):`new Boolean(${JSON.stringify(n)})`;case"[object Date]":{let a=n;return Number.isNaN(a.getTime())?"new Date(NaN)":`new Date(${JSON.stringify(a.toISOString())})`}case"[object Map]":return`new Map(${z(Array.from(n),s,o)})`;case"[object Null]":return"null";case"[object Number]":return typeof n=="number"?Di(n):`new Number(${Di(Number(n))})`;case"[object Object]":{try{let p=n.toString;if(typeof p=="function"&&p!==Object.prototype.toString)return n.toString()}catch{return"[object Object]"}let a=p=>`${p==="__proto__"?'["__proto__"]':typeof p=="symbol"?`[${z(p,s,o)}]`:JSON.stringify(p)}:${z(n[p],s,o)}`,f="{"+[...Object.keys(n).map(a),...Object.getOwnPropertySymbols(n).filter(p=>{let l=Object.getOwnPropertyDescriptor(n,p);return l&&l.enumerable}).map(a)].join(",")+"}";return Object.getPrototypeOf(n)===null?f==="{}"?"Object.create(null)":`Object.assign(Object.create(null),${f})`:f}case"[object Set]":return`new Set(${z(Array.from(n),s,o)})`;case"[object String]":return typeof n=="string"?JSON.stringify(n):`new String(${JSON.stringify(n)})`;case"[object Symbol]":{let a=n;if(Symbol.keyFor(a)!==void 0)return`Symbol.for(${JSON.stringify(Symbol.keyFor(a))})`;let u=pc(a);if(u===null)return"Symbol()";let f=u.startsWith("Symbol.")&&Symbol[u.substring(7)];return a===f?u:`Symbol(${JSON.stringify(u)})`}case"[object Promise]":{let a=o(n);switch(a.state){case"fulfilled":return`Promise.resolve(${z(a.value,s,o)})`;case"rejected":return`Promise.reject(${z(a.value,s,o)})`;case"pending":return"new Promise(() => {/*pending*/})";case"unknown":default:return"new Promise(() => {/*unknown*/})"}}case"[object Error]":if(n instanceof Error)return`new Error(${z(n.message,s,o)})`;break;case"[object Undefined]":return"undefined";case"[object Int8Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Int16Array]":case"[object Uint16Array]":case"[object Int32Array]":case"[object Uint32Array]":case"[object Float32Array]":case"[object Float64Array]":case"[object BigInt64Array]":case"[object BigUint64Array]":{if(typeof Buffer<"u"&&typeof Buffer.isBuffer=="function"&&Buffer.isBuffer(n))return`Buffer.from(${z(Array.from(n.values()),s,o)})`;let a=Object.getPrototypeOf(n),u=a&&a.constructor&&a.constructor.name;if(typeof u=="string"){let p=n.values();return`${u}.from(${z(Array.from(p),s,o)})`}break}}try{return n.toString()}catch{return Object.prototype.toString.call(n)}}function H(n){return z(n,[],()=>({state:"unknown",value:void 0}))}function qi(n){let r=Symbol(),o=[],s=new Map;function a(){let l=null,m=()=>{l!==null&&clearTimeout(l)};return{delay:new Promise(k=>{l=setTimeout(()=>{l=null,k(r)},0)}),cancel:m}}let u={state:"unknown",value:void 0},f=function(m){let y=m;if(s.has(y))return s.get(y);let k=a(),N=le in m?Promise.resolve().then(()=>m[le]()):m;return N.catch(()=>{}),o.push(Promise.race([N,k.delay]).then(G=>{G===r?s.set(y,{state:"pending",value:void 0}):s.set(y,{state:"fulfilled",value:G}),k.cancel()},G=>{s.set(y,{state:"rejected",value:G}),k.cancel()})),s.set(y,u),u};function p(){let l=z(n,[],f);return o.length===0?l:Promise.all(o.splice(0)).then(p)}return p()}var Te,le,fc,re=c(()=>{Te=Symbol("fast-check/toStringMethod");le=Symbol("fast-check/asyncToStringMethod");fc=/^Symbol\((.*)\)$/});function Wi(n){return n===null?new q:n}function mc(...n){return n[1]?n[0].then(Wi):Wi(n[0])}function hc(n,r){return mc(n,r)}var Ze,_i=c(()=>{re();be();Ze=class{constructor(r,o){this.property=r,this.skipRuns=o,this.coveredCases=new Map,this.isAsync=()=>this.property.isAsync(),this.generate=(s,a)=>this.property.generate(s,a),this.run=s=>{let a=H(s);if(this.coveredCases.has(a)){let f=this.coveredCases.get(a);return this.skipRuns?hc(f,this.property.isAsync()):f}let u=this.property.run(s);return this.coveredCases.set(a,u),u}}}});function zi(n,r){let o=n;return n.isAsync()&&r.timeout!=null&&(o=new _t(o,r.timeout)),r.unbiased&&(o=new Xe(o)),r.skipAllAfterTimeLimit!=null&&(o=new Ye(o,Date.now,r.skipAllAfterTimeLimit,!1)),r.interruptAfterTimeLimit!=null&&(o=new Ye(o,Date.now,r.interruptAfterTimeLimit,!0)),r.skipEqualValues&&(o=new Ze(o,!0)),r.ignoreEqualValues&&(o=new Ze(o,!1)),o}var Hi=c(()=>{Ui();Vi();Jr();_i()});var Y,zt=c(()=>{(function(n){n[n.Success=0]="Success",n[n.Skipped=-1]="Skipped",n[n.Failure=1]="Failure"})(Y||(Y={}))});var Qe,Gi=c(()=>{Je();zt();Qe=class n{constructor(r,o){this.verbosity=r,this.interruptedAsFailure=o,this.isSuccess=()=>this.pathToFailure==null,this.firstFailure=()=>this.pathToFailure?+this.pathToFailure.split(":")[0]:-1,this.numShrinks=()=>this.pathToFailure?this.pathToFailure.split(":").length-1:0,this.rootExecutionTrees=[],this.currentLevelExecutionTrees=this.rootExecutionTrees,this.failure=null,this.numSkips=0,this.numSuccesses=0,this.interrupted=!1}appendExecutionTree(r,o){let s={status:r,value:o,children:[]};return this.currentLevelExecutionTrees.push(s),s}fail(r,o,s){if(this.verbosity>=E.Verbose){let a=this.appendExecutionTree(Y.Failure,r);this.currentLevelExecutionTrees=a.children}this.pathToFailure==null?this.pathToFailure=`${o}`:this.pathToFailure+=`:${o}`,this.value=r,this.failure=s}skip(r){this.verbosity>=E.VeryVerbose&&this.appendExecutionTree(Y.Skipped,r),this.pathToFailure==null&&++this.numSkips}success(r){this.verbosity>=E.VeryVerbose&&this.appendExecutionTree(Y.Success,r),this.pathToFailure==null&&++this.numSuccesses}interrupt(){this.interrupted=!0}extractFailures(){if(this.isSuccess())return[];let r=[],o=this.rootExecutionTrees;for(;o.length>0&&o[o.length-1].status===Y.Failure;){let s=o[o.length-1];r.push(s.value),o=s.children}return r}toRunDetails(r,o,s,a){return this.isSuccess()?{failed:this.numSkips>s||this.interrupted&&this.interruptedAsFailure,interrupted:this.interrupted,numRuns:this.numSuccesses,numSkips:this.numSkips,numShrinks:0,seed:r,counterexample:null,counterexamplePath:null,error:null,failures:[],executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:a.toParameters()}:{failed:!0,interrupted:this.interrupted,numRuns:this.firstFailure()+1-this.numSkips,numSkips:this.numSkips,numShrinks:this.numShrinks(),seed:r,counterexample:this.value,counterexamplePath:n.mergePaths(o,this.pathToFailure),error:this.failure,failures:this.extractFailures(),executionSummary:this.rootExecutionTrees,verbose:this.verbosity,runConfiguration:a.toParameters()}}};Qe.mergePaths=(n,r)=>{if(n.length===0)return r;let o=n.split(":"),s=r.split(":"),a=+o[o.length-1]+ +s[0];return[...o.slice(0,o.length-1),`${a}`,...s.slice(1)].join(":")}});var et,Ki=c(()=>{Gi();et=class{constructor(r,o,s){this.sourceValues=r,this.runExecution=new Qe(o,s),this.currentIdx=-1,this.nextValues=r}[Symbol.iterator](){return this}next(){let r=this.nextValues.next();return r.done||this.runExecution.interrupted?{done:!0,value:void 0}:(this.currentShrinkable=r.value,++this.currentIdx,{done:!1,value:r.value.value_})}handleResult(r){r!=null&&typeof r=="string"?(this.runExecution.fail(this.currentShrinkable.value_,this.currentIdx,r),this.currentIdx=-1,this.nextValues=this.currentShrinkable.shrink()):r!=null?r.interruptExecution?this.runExecution.interrupt():(this.runExecution.skip(this.currentShrinkable.value_),this.sourceValues.skippedOne()):this.runExecution.success(this.currentShrinkable.value_)}}});var Ht,Ji=c(()=>{Ht=class{constructor(r,o,s){this.initialValues=r,this.maxInitialIterations=o,this.remainingSkips=s}[Symbol.iterator](){return this}next(){if(--this.maxInitialIterations!==-1&&this.remainingSkips>=0){let r=this.initialValues.next();if(!r.done)return{value:r.value(),done:!1}}return{value:void 0,done:!0}}skippedOne(){--this.remainingSkips,++this.maxInitialIterations}}});function Gt(n){return"clone"in n&&"unsafeNext"in n?n:new Zr(n)}var Zr,Qr=c(()=>{Zr=class n{constructor(r){this.rng=r,typeof this.rng.jump=="function"&&(this.jump=function(){let s=this.jump();return new n(s)},this.unsafeJump=function(){let s=this.jump();this.rng=s})}min(){return this.rng.min()}max(){return this.rng.max()}clone(){return new n(this.rng)}next(){let r=this.rng.next();return[r[0],new n(r[1])]}unsafeNext(){let r=this.rng.next();return this.rng=r[1],r[0]}}});var se,en=c(()=>{Wt();Qr();se=class n{constructor(r){this.internalRng=Gt(r).clone()}clone(){return new n(this.internalRng)}next(r){return ie(0,(1<<r)-1,this.internalRng)}nextBoolean(){return ie(0,1,this.internalRng)==1}nextInt(r,o){return ie(r??n.MIN_INT,o??n.MAX_INT,this.internalRng)}nextBigInt(r,o){return we(r,o,this.internalRng)}nextArrayInt(r,o){return ye(r,o,this.internalRng)}nextDouble(){let r=this.next(26),o=this.next(27);return(r*n.DBL_FACTOR+o)*n.DBL_DIVISOR}};se.MIN_INT=-2147483648;se.MAX_INT=2147483647;se.DBL_FACTOR=Math.pow(2,27);se.DBL_DIVISOR=Math.pow(2,-53)});function dc(n,r,o){return()=>n.generate(new se(r),o)}function*tn(n,r,o,s){yield*s.map(f=>()=>new P(f));let a=0,u=Gt(o(r));for(;;)u=u.jump?u.jump():Lt(u,42),yield dc(n,u,a++)}var rn=c(()=>{Wt();en();te();Qr()});function nn(n,r){let o=W(r),s=n.split(":").map(a=>+a);if(s.length===0)return o;if(!s.every(a=>!Number.isNaN(a)))throw new Error(`Unable to replay, got invalid path=${n}`);o=o.drop(s[0]);for(let a of s.slice(1)){let u=o.getNthOrLast(0);if(u==null)throw new Error(`Unable to replay, got wrong path=${n}`);o=u.shrink().drop(a)}return o}var on=c(()=>{v()});function xc(n){return n.length===1?`Hint: ${n[0]}`:n.map((r,o)=>`Hint (${o+1}): ${r}`).join(`
`)}function gc(n,r){return`Encountered failures were:
- ${n.map(r).join(`
- `)}`}function an(n,r){let o=[],s=[];for(let a of n.slice().reverse())s.push({depth:1,tree:a});for(;s.length!==0;){let a=s.pop(),u=a.tree,f=a.depth,p=u.status===Y.Success?"\x1B[32m\u221A\x1B[0m":u.status===Y.Failure?"\x1B[31m\xD7\x1B[0m":"\x1B[33m!\x1B[0m",l=Array(f).join(". ");o.push(`${l}${p} ${r(u.value)}`);for(let m of u.children.slice().reverse())s.push({depth:f+1,tree:m})}return`Execution summary:
${o.join(`
`)}`}function bc(n,r){let o=`Failed to run property, too many pre-condition failures encountered
{ seed: ${n.seed} }

Ran ${n.numRuns} time(s)
Skipped ${n.numSkips} time(s)`,s=null,a=["Try to reduce the number of rejected values by combining map, flatMap and built-in arbitraries","Increase failure tolerance by setting maxSkipsPerRun to an higher value"];return n.verbose>=E.VeryVerbose?s=an(n.executionSummary,r):a.push("Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:o,details:s,hints:a}}function yc(n,r){let o=`Property failed after ${n.numRuns} tests
{ seed: ${n.seed}, path: "${n.counterexamplePath}", endOnFailure: true }
Counterexample: ${r(n.counterexample)}
Shrunk ${n.numShrinks} time(s)
Got error: ${n.error}`,s=null,a=[];return n.verbose>=E.VeryVerbose?s=an(n.executionSummary,r):n.verbose===E.Verbose?s=gc(n.failures,r):a.push("Enable verbose mode in order to have the list of all failing values encountered during the run"),{message:o,details:s,hints:a}}function wc(n,r){let o=`Property interrupted after ${n.numRuns} tests
{ seed: ${n.seed} }`,s=null,a=[];return n.verbose>=E.VeryVerbose?s=an(n.executionSummary,r):a.push("Enable verbose mode at level VeryVerbose in order to check all generated values and their associated status"),{message:o,details:s,hints:a}}function sn(n,r){if(!n.failed)return;let{message:o,details:s,hints:a}=n.counterexamplePath===null?n.interrupted?wc(n,r):bc(n,r):yc(n,r),u=o;return s!=null&&(u+=`

${s}`),a.length>0&&(u+=`

${xc(a)}`),u}function Yi(n){return sn(n,H)}async function Xi(n){let r=[];function o(f){let p=qi(f);return typeof p=="string"?p:(r.push(Promise.all([f,p])),"\u2026")}let s=sn(n,o);if(r.length===0)return s;let a=new Map(await Promise.all(r));function u(f){let p=a.get(f);return p!==void 0?p:H(f)}return sn(n,u)}function Sc(n){if(n.failed)throw new Error(Yi(n))}async function Tc(n){if(n.failed)throw new Error(await Xi(n))}function Zi(n){return n.runConfiguration.asyncReporter?n.runConfiguration.asyncReporter(n):n.runConfiguration.reporter?n.runConfiguration.reporter(n):Sc(n)}async function Qi(n){return n.runConfiguration.asyncReporter?n.runConfiguration.asyncReporter(n):n.runConfiguration.reporter?n.runConfiguration.reporter(n):Tc(n)}var un=c(()=>{re();Je();zt()});function kc(n,r,o,s){let a=new et(r,o,s);for(let u of a){let f=n.run(u);a.handleResult(f)}return a.runExecution}async function Ic(n,r,o,s){let a=new et(r,o,s);for(let u of a){let f=await n.run(u);a.handleResult(f)}return a.runExecution}function vc(n,r){let o=r.split(":"),s=W(n).drop(o.length>0?+o[0]:0).map(u=>u()),a=["0",...o.slice(1)].join(":");return W(nn(a,s)).map(u=>()=>u)}function Nc(n,r){let o=r.path.length===0?W(n):vc(n,r.path);return r.endOnFailure?o.map(s=>()=>{let a=s();return new P(a.value_)}):o}function es(n,r){if(n==null||n.generate==null)throw new Error("Invalid property encountered, please use a valid property");if(n.run==null)throw new Error("Invalid property encountered, please use a valid property not an arbitrary");let o=J.read(Object.assign(Object.assign({},pe()),r));if(o.reporter!==null&&o.asyncReporter!==null)throw new Error("Invalid parameters encountered, reporter and asyncReporter cannot be specified together");if(o.asyncReporter!==null&&!n.isAsync())throw new Error("Invalid parameters encountered, only asyncProperty can be used when asyncReporter specified");let s=zi(n,o),a=tn(s,o.seed,o.randomType,o.examples),u=o.path.indexOf(":")===-1?o.numRuns:-1,f=o.numRuns*o.maxSkipsPerRun,p=Nc(a,o),l=new Ht(p,u,f);return s.isAsync()?Ic(s,l,o.verbose,o.markInterruptAsFailure).then(m=>m.toRunDetails(o.seed,o.path,f,o)):kc(s,l,o.verbose,o.markInterruptAsFailure).toRunDetails(o.seed,o.path,f,o)}function cn(n,r){let o=es(n,r);if(n.isAsync())return o.then(Qi);Zi(o)}var ts=c(()=>{v();te();Be();Kr();Hi();Ki();Ji();rn();on();un()});var rs=c(()=>{v();jr();Jr();Be();Kr();rn();on()});function ns(n){return Math.floor(Math.log(n)/Math.log(2))}function fn(n,r,o){if(n===r)return[{min:n,max:r}];if(n<0&&r>0){let f=o(-n),p=o(r);return[{min:-f,max:p},{min:r-p,max:r},{min:n,max:n+f}]}let s=o(r-n),a={min:n,max:n+s},u={min:r-s,max:r};return n<0?[u,a]:[a,u]}var pn=c(()=>{});function os(n){return Math.floor(n/2)}function is(n){return Math.ceil(n/2)}function ln(n,r,o){let s=n-r;function*a(){let f=o?void 0:r,p=o?s:os(s);for(let l=p;l>0;l=os(l)){let m=l===s?r:n-l;yield new b(m,f),f=m}}function*u(){let f=o?void 0:r,p=o?s:is(s);for(let l=p;l<0;l=is(l)){let m=l===s?r:n-l;yield new b(m,f),f=m}}return s>0?W(a()):W(u())}var ss=c(()=>{j();v()});var ke,tt=c(()=>{B();j();v();pn();ss();ke=class n extends T{constructor(r,o){super(),this.min=r,this.max=o}generate(r,o){let s=this.computeGenerateRange(r,o);return new b(r.nextInt(s.min,s.max),void 0)}canShrinkWithoutContext(r){return typeof r=="number"&&Number.isInteger(r)&&!Object.is(r,-0)&&this.min<=r&&r<=this.max}shrink(r,o){if(!n.isValidContext(r,o)){let s=this.defaultTarget();return ln(r,s,!0)}return this.isLastChanceTry(r,o)?g.of(new b(o,void 0)):ln(r,o,!1)}defaultTarget(){return this.min<=0&&this.max>=0?0:this.min<0?this.max:this.min}computeGenerateRange(r,o){if(o===void 0||r.nextInt(1,o)!==1)return{min:this.min,max:this.max};let s=fn(this.min,this.max,ns);if(s.length===1)return s[0];let a=r.nextInt(-2*(s.length-1),s.length-2);return a<0?s[0]:s[a+1]}isLastChanceTry(r,o){return r>0?r===o+1&&r>this.min:r<0?r===o-1&&r<this.max:!1}static isValidContext(r,o){if(o===void 0)return!1;if(typeof o!="number")throw new Error("Invalid context type passed to IntegerArbitrary (#1)");if(o!==0&&Math.sign(r)!==Math.sign(o))throw new Error("Invalid context value passed to IntegerArbitrary (#2)");return!0}}});function Ac(n){let r=n.min!==void 0?n.min:-2147483648,o=n.max!==void 0?n.max:2147483647;return{min:r,max:o}}function Ec(n){if(n[0]===void 0)return{};if(n[1]===void 0){let o=n;return typeof o[0]=="number"?{max:o[0]}:o[0]}let r=n;return{min:r[0],max:r[1]}}function A(...n){let r=Ac(Ec(n));if(r.min>r.max)throw new Error("fc.integer maximum value should be equal or greater than the minimum one");let o=new ke(r.min,r.max);return K(o,o.defaultTarget())}var O=c(()=>{h();tt()});var as,rt=c(()=>{as=class{constructor(r){this.producer=r}[Symbol.iterator](){return this.it===void 0&&(this.it=this.producer()),this.it}next(){return this.it===void 0&&(this.it=this.producer()),this.it.next()}}});var us=c(()=>{});var hn=c(()=>{v();L();O();rt();us();B();h();j()});var Ue=c(()=>{});var C=c(()=>{h();hn();Ue()});var cs=c(()=>{v();j()});var nt=c(()=>{v();B();j();pn();cs()});var xn=c(()=>{h();nt()});var fs=c(()=>{h();nt()});var ps=c(()=>{h();nt()});var gn=c(()=>{h();nt()});var bn=c(()=>{h();O()});var ot,yn=c(()=>{v();B();j();L();ot=class extends T{constructor(r){super(),this.values=r}generate(r,o){let s=this.values.length===1?0:r.nextInt(0,this.values.length-1),a=this.values[s];return ee(a)?new b(a,s,()=>a[S]()):new b(a,s)}canShrinkWithoutContext(r){for(let o=0;o!==this.values.length;++o)if(Object.is(this.values[o],r))return!0;return!1}shrink(r,o){return o===0||Object.is(r,this.values[0])?g.nil():g.of(new b(this.values[0],0))}}});function Ve(...n){if(n.length===0)throw new Error("fc.constantFrom expects at least one parameter");return d(new ot(n))}var it=c(()=>{h();yn()});var ls=c(()=>{it()});function hs(n){if(typeof n!="string")throw new Error("Cannot unmap non-string");if(n.length===0||n.length>2)throw new Error("Cannot unmap string with more or less than one character");let r=n.charCodeAt(0);if(n.length===1)return r;let o=n.charCodeAt(1);if(r<55296||r>56319||o<56320||o>57343)throw new Error("Cannot unmap invalid surrogate pairs");return n.codePointAt(0)}var ms,ds=c(()=>{ms=String.fromCodePoint});function me(n,r,o,s){return d(x(A(n,r)).map(a=>ms(o(a)),a=>s(hs(a))))}var he=c(()=>{h();O();ds()});function st(n){return n<95?n+32:n<=126?n-95:n}function at(n){return n>=32&&n<=126?n-32:n>=0&&n<=31?n+95:n}var ut=c(()=>{});var wn=c(()=>{he();ut()});var Sn=c(()=>{he()});var Tn=c(()=>{he()});var kn=c(()=>{he();ut()});function Pc(n){return n<55296?st(n):n+In}function Oc(n){return n<55296?at(n):n<=57343?-1:n-In}function Jt(){return me(0,1114111-In,Pc,Oc)}var In,Yt=c(()=>{he();ut();In=57343+1-55296});var vn=c(()=>{he()});var Id,Nn=c(()=>{he();ut();Id=57343+1-55296});var de=c(()=>{h();yn()});var xs=c(()=>{de()});var gs,bs=c(()=>{L();de();gs=class n{constructor(){this.receivedLogs=[]}log(r){this.receivedLogs.push(r)}size(){return this.receivedLogs.length}toString(){return JSON.stringify({logs:this.receivedLogs})}[S](){return new n}}});var ys=c(()=>{});var An=c(()=>{h();O();ys()});var ws=c(()=>{B();j();L();v()});var En=c(()=>{h();ws()});var Ss=c(()=>{En()});var ct=c(()=>{hn();h();Ue()});function M(...n){let r=n.map(o=>x(o));return d(new $e(r))}var $=c(()=>{h();Mr()});var Cn=c(()=>{});var On=c(()=>{h();ct();$();Cn()});function ks(n){if(n===void 0)return{depth:0};if(typeof n!="string")return n;let r=Ts.get(n);if(r!==void 0)return r;let o={depth:0};return Ts.set(n,o),o}var Ts,Is=c(()=>{Ts=new Map});var Ie,Xt=c(()=>{v();h();B();j();Is();Ie=class n extends T{constructor(r,o,s){super(),this.warbs=r,this.constraints=o,this.context=s;let a=0;this.cumulatedWeights=[];for(let u=0;u!==r.length;++u)a+=r[u].weight,this.cumulatedWeights.push(a);this.totalWeight=a}static fromOld(r,o,s){return d(n.from(r.map(a=>Object.assign(Object.assign({},a),{arbitrary:x(a.arbitrary)})),o,s))}static from(r,o,s){if(r.length===0)throw new Error(`${s} expects at least one weigthed arbitrary`);let a=0;for(let u=0;u!==r.length;++u){if(r[u].arbitrary===void 0)throw new Error(`${s} expects arbitraries to be specified`);let p=r[u].weight;if(a+=p,!Number.isInteger(p))throw new Error(`${s} expects weights to be integer values`);if(p<0)throw new Error(`${s} expects weights to be superior or equal to 0`)}if(a<=0)throw new Error(`${s} expects the sum of weights to be strictly superior to 0`);return new n(r,o,ks(o.depthIdentifier))}generate(r,o){if(this.mustGenerateFirst())return this.safeGenerateForIndex(r,0,o);let s=r.nextInt(this.computeNegDepthBenefit(),this.totalWeight-1);for(let a=0;a!==this.cumulatedWeights.length;++a)if(s<this.cumulatedWeights[a])return this.safeGenerateForIndex(r,a,o);throw new Error("Unable to generate from fc.frequency")}canShrinkWithoutContext(r){return this.canShrinkWithoutContextIndex(r)!==-1}shrink(r,o){if(o!==void 0){let a=o,u=a.selectedIndex,f=a.originalBias,l=this.warbs[u].arbitrary.shrink(r,a.originalContext).map(m=>this.mapIntoNextValue(u,m,null,f));if(a.clonedMrngForFallbackFirst!==null){a.cachedGeneratedForFirst===void 0&&(a.cachedGeneratedForFirst=this.safeGenerateForIndex(a.clonedMrngForFallbackFirst,0,f));let m=a.cachedGeneratedForFirst;return g.of(m).join(l)}return l}let s=this.canShrinkWithoutContextIndex(r);return s===-1?g.nil():this.defaultShrinkForFirst(s).join(this.warbs[s].arbitrary.shrink(r,void 0).map(a=>this.mapIntoNextValue(s,a,null,void 0)))}defaultShrinkForFirst(r){++this.context.depth;try{if(!this.mustFallbackToFirstInShrink(r)||this.warbs[0].fallbackValue===void 0)return g.nil()}finally{--this.context.depth}let o=new b(this.warbs[0].fallbackValue.default,void 0);return g.of(this.mapIntoNextValue(0,o,null,void 0))}canShrinkWithoutContextIndex(r){if(this.mustGenerateFirst())return this.warbs[0].arbitrary.canShrinkWithoutContext(r)?0:-1;try{++this.context.depth;for(let o=0;o!==this.warbs.length;++o){let s=this.warbs[o];if(s.weight!==0&&s.arbitrary.canShrinkWithoutContext(r))return o}return-1}finally{--this.context.depth}}mapIntoNextValue(r,o,s,a){let u={selectedIndex:r,originalBias:a,originalContext:o.context,clonedMrngForFallbackFirst:s};return new b(o.value,u)}safeGenerateForIndex(r,o,s){++this.context.depth;try{let a=this.warbs[o].arbitrary.generate(r,s),u=this.mustFallbackToFirstInShrink(o)?r.clone():null;return this.mapIntoNextValue(o,a,u,s)}finally{--this.context.depth}}mustGenerateFirst(){return this.constraints.maxDepth!==void 0&&this.constraints.maxDepth<=this.context.depth}mustFallbackToFirstInShrink(r){return r!==0&&!!this.constraints.withCrossShrink&&this.warbs[0].weight!==0}computeNegDepthBenefit(){let r=this.constraints.depthFactor;if(r===void 0||r<=0)return 0;let o=Math.floor(Math.pow(1+r,this.context.depth))-1;return-Math.min(this.warbs[0].weight*o,Number.MAX_SAFE_INTEGER)||0}}});var ft=c(()=>{Xt()});var ae=c(()=>{h();tt()});var vs=c(()=>{});var Mn=c(()=>{h();ae();vs()});var jx,Zt=c(()=>{Yt();ft();Mn();jx=Jt().map(n=>{let r=encodeURIComponent(n);return n!==r?r:`%${n.charCodeAt(0).toString(16)}`})});var pt=c(()=>{de();Xt()});var ue=c(()=>{});var Ns=c(()=>{Ue()});var lt=c(()=>{h();C();ue();Ns()});var Qt=c(()=>{C();Zt();pt();lt();$()});var Es=c(()=>{C();Zt();Qt();lt();$()});var Ln=c(()=>{});var Cs=c(()=>{v();h();B();j();Ln()});var Ps=c(()=>{Ln();Cs()});var N0,A0,E0,Os=c(()=>{O();N0=2**-126*2**-23,A0=2**127*(1+(2**23-1)/2**23),E0=2**-23});var L0,B0,mt=c(()=>{Ps();Os();O();$();L0=Math.pow(2,27),B0=Math.pow(2,-53)});function Ms(n){return n.replace(/([$`\\])/g,"\\$1").replace(/\r/g,"\\r")}var er=c(()=>{});var tr=c(()=>{});var Bn=c(()=>{er();L();tr();re();O();$()});var js=c(()=>{Bn()});var $s=c(()=>{Bn()});var Bs=c(()=>{tr();re();L();C();O();$();er()});var Rn=c(()=>{h();tt()});var Rs=c(()=>{h();tt()});var Un=c(()=>{});var rr=c(()=>{h();ae();$();Un()});function zc(n){return n!=null&&typeof n=="object"&&!("generate"in n)}function xe(...n){let r=n[0];if(zc(r)){let s=n.slice(1).map(a=>({arbitrary:a,weight:1}));return Ie.fromOld(s,r,"fc.oneof")}let o=n.map(s=>({arbitrary:s,weight:1}));return Ie.fromOld(o,{},"fc.oneof")}var Ae=c(()=>{Xt()});var Us=c(()=>{h();it();ae();$();Un()});var Vn=c(()=>{Ae();$();Us();h()});var Ee=c(()=>{});var Dn=c(()=>{h();C();vn();ue();Ee()});var Vs=c(()=>{});var qn=c(()=>{C();h();Ae();Dn();$();rr();Vs()});var xt,qs=c(()=>{B();xt=class extends T{constructor(r){super(),this.name=r,this.underlying=null}generate(r,o){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.generate(r,o)}canShrinkWithoutContext(r){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.canShrinkWithoutContext(r)}shrink(r,o){if(!this.underlying)throw new Error(`Lazy arbitrary ${JSON.stringify(this.name)} not correctly initialized`);return this.underlying.shrink(r,o)}}});function Wn(n){let r=Object.create(null),s=n(a=>(Object.prototype.hasOwnProperty.call(r,a)||(r[a]=new xt(String(a))),d(r[a])));for(let a in s){if(!Object.prototype.hasOwnProperty.call(s,a))continue;let u=r[a],f=u!==void 0?u:new xt(a);f.underlying=x(s[a]),r[a]=f}return s}var Ws=c(()=>{qs();h()});var _s=c(()=>{});var zs=c(()=>{C();de();ft();_s();h()});var _n=c(()=>{});var Hs=c(()=>{v();gn();B();h();j();rt()});var Gs=c(()=>{h();Hs()});var zn=c(()=>{h();C();Tn();ue();Ee()});var Hn=c(()=>{h();C();Nn();ue();Ee()});var Gn=c(()=>{mt();C()});var Kn=c(()=>{mt();C()});var ge=c(()=>{C()});var Jn=c(()=>{O();ge()});var Yn=c(()=>{O();ge()});var Xn=c(()=>{O();ge()});var Zn=c(()=>{O();ge()});var Qn=c(()=>{O();ge()});var eo=c(()=>{O();ge()});var to=c(()=>{O();ge()});var ro=c(()=>{ae();ct();$();Ue()});var Js=c(()=>{re();C();bn();de();On();mt();ft();Rn();_n();Ae();ct();zn();Hn();$();xn();An();Gn();Kn();Jn();Yn();Xn();Zn();Qn();eo();to();ro();Cn()});var Ys=c(()=>{});var Xs=c(()=>{});var d1,Zs=c(()=>{h();pt();$();Ys();Xs();d1=Symbol("no-key")});var Qs=c(()=>{Zs()});var ea=c(()=>{B();j();L();v();re()});var ta=c(()=>{h();ea()});var ra=c(()=>{h();C();wn();ue();Ee()});var na=c(()=>{});var oa=c(()=>{h();C();Sn();Ue();ue();Ee();na()});var ia=c(()=>{h();C();Yt();ue();Ee()});var sa=c(()=>{});var aa=c(()=>{h();C();kn();ue();sa()});var ua=c(()=>{fe()});var ca=c(()=>{v();fe();ua();te();O();rt()});var fa=c(()=>{O();ae();$()});var pa=c(()=>{C();it();de();Zt();Qt();ae();rr();Vn();qn();Ae();pt();lt();$()});var la=c(()=>{});var no,ma=c(()=>{L();no=class n{constructor(r,o){this.commands=r,this.metadataForReplay=o}[Symbol.iterator](){return this.commands[Symbol.iterator]()}[S](){return new n(this.commands.map(r=>r.clone()),this.metadataForReplay)}toString(){let r=this.commands.filter(s=>s.hasRan).map(s=>s.toString()).join(","),o=this.metadataForReplay();return o.length!==0?`${r} /*${o}*/`:r}}});var ha=c(()=>{re();L()});var da=c(()=>{v();fe();te();ae();Ae();la();ma();ha();rt()});var xa=c(()=>{});var ga=c(()=>{xa()});var nr,oo=c(()=>{er();L();re();nr=class n{constructor(r,o){this.act=r,this.taskSelector=o,this.lastTaskId=0,this.sourceTaskSelector=o.clone(),this.scheduledTasks=[],this.triggeredTasks=[]}static buildLog(r){return`[task\${${r.taskId}}] ${r.label.length!==0?`${r.schedulingType}::${r.label}`:r.schedulingType} ${r.status}${r.outputValue!==void 0?` with value ${Ms(r.outputValue)}`:""}`}log(r,o,s,a,u,f){this.triggeredTasks.push({status:u,schedulingType:r,taskId:o,label:s,metadata:a,outputValue:f!==void 0?H(f):void 0})}scheduleInternal(r,o,s,a,u){let f=null,p=++this.lastTaskId,l=new Promise((m,y)=>{f=()=>{(u?s.then(()=>u()):s).then(k=>(this.log(r,p,o,a,"resolved",k),m(k)),k=>(this.log(r,p,o,a,"rejected",k),y(k)))}});return this.scheduledTasks.push({original:s,scheduled:l,trigger:f,schedulingType:r,taskId:p,label:o,metadata:a}),l}schedule(r,o,s){return this.scheduleInternal("promise",o||"",r,s)}scheduleFunction(r){return(...o)=>this.scheduleInternal("function",`${r.name}(${o.map(H).join(",")})`,r(...o),void 0)}scheduleSequence(r){let o={done:!1,faulty:!1},s={then:f=>f()},a=()=>{},u=new Promise(f=>a=f);return r.reduce((f,p)=>{let[l,m,y]=typeof p=="function"?[p,p.name,void 0]:[p.builder,p.label,p.metadata];return f.then(()=>{let k=this.scheduleInternal("sequence",m,s,y,()=>l());return k.catch(()=>{o.faulty=!0,a()}),k})},s).then(()=>{o.done=!0,a()},()=>{}),Object.assign(o,{task:Promise.resolve(u).then(()=>({done:o.done,faulty:o.faulty}))})}count(){return this.scheduledTasks.length}async internalWaitOne(){if(this.scheduledTasks.length===0)throw new Error("No task scheduled");let r=this.taskSelector.nextTaskIndex(this.scheduledTasks),[o]=this.scheduledTasks.splice(r,1);o.trigger();try{await o.scheduled}catch{}}async waitOne(){await this.act(async()=>await this.internalWaitOne())}async waitAll(){for(;this.scheduledTasks.length>0;)await this.waitOne()}report(){return[...this.triggeredTasks,...this.scheduledTasks.map(r=>({status:"pending",schedulingType:r.schedulingType,taskId:r.taskId,label:r.label,metadata:r.metadata}))]}toString(){return"schedulerFor()`\n"+this.report().map(n.buildLog).map(r=>`-> ${r}`).join(`
`)+"`"}[S](){return new n(this.act,this.sourceTaskSelector)}}});var ba=c(()=>{oo()});var ya=c(()=>{B();j();v();oo()});var wa=c(()=>{h();ba();ya()});var Sa=c(()=>{fe();te()});var io=c(()=>{Qo();xi();bi();ts();rs();C();xn();fs();ps();gn();bn();ls();wn();Sn();Tn();kn();Yt();vn();Nn();xs();de();it();bs();An();En();Ss();fe();te();On();Es();mt();ft();js();$s();Bs();Qt();O();Rn();Rs();ae();rr();Vn();qn();Ws();zs();Mn();_n();Gs();Js();Ae();pt();Qs();ct();ta();ra();oa();ia();Dn();zn();aa();lt();Hn();ca();Ft();$();fa();pa();da();ga();en();Be();Je();zt();L();v();tr();re();wa();un();Sa();Ir();be();Xn();Jn();Yn();eo();to();Zn();Qn();Gn();Kn();ro();B();j();h()});var Ta=c(()=>{io();io()});var ka=Ce((so,ao)=>{"use strict";var or=yt(pr());br();Ta();Pt();(0,or.test)("Test parsing of predefined expressions",async t=>{let testset=["1 + -1","2 + 3 * 3","1 - 1 / 2","(1 - 1) / 2","(1) + (((2)) + 3)"];for(let i=0;i<testset.length;i++){let expr=testset[i],res=eval(expr),calcres=je(expr);t.equal(calcres,res,`expression '${expr}' should evaluate to ${res}`)}});(0,or.test)("Test failing expressions",async n=>{let r=["1 + ","2 ++ 3 * 3","- 1 - 1","","a + 1"];for(let o=0;o<r.length;o++){let s=r[o];n.throws(()=>je(s),Z,`expression '${s}' should not parse`)}});var If=A(-1e3,1e3).map(n=>n.toString()),vf=Ve("+","-","*","/"),Nf=Wn(n=>({num:If,oper:M(n("expr"),vf,n("expr")).map(r=>`${r[0]} ${r[1]} ${r[2]}`),par:n("expr").map(r=>"("+r+")"),expr:xe(n("num"),n("oper"),n("par"))}));(0,or.test)("Test arbitrary expressions",async t=>cn($t(Nf.expr,e=>{let res1=eval(e),res2=je(e);t.equal(res1,res2,`expression '${e}' should evaluate to ${res1}`)})))});var Ia=yt(fo()),aI=yt(Bo());Pt();br();var uI=yt(ka());var uo=class extends Ia.StyledElement{constructor(){super("run-expr-tests");this.body.classList.add("calculator"),this.input=document.createElement("input"),this.result=document.createElement("div"),this.result.classList.add("result"),this.body.append(this.input,this.result)}connect(){this.input.addEventListener("change",o=>{try{this.result.innerText=je(this.input.value).toString()}catch(s){if(s instanceof Z)this.result.innerText=s.message;else throw s}})}};customElements.define("calculator-tests",uo);})();
